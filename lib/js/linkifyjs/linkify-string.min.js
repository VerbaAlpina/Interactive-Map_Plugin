!function(e){"use strict";function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(e){return e.replace(/"/g,"&quot;")}function n(e){if(!e)return"";var t=[];for(var n in e){var i=(e[n]+"").replace(/"/g,"&quot;");t.push(n+'="'+r(i)+'"')}return t.join(" ")}function i(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i=l.normalize(i);for(var a=o(e),p=[],s=0;s<a.length;s++){var u=a[s],f=u.isLink&&l.resolve(i.validate,u.toString(),u.type);if(u.isLink&&f){var v=u.toHref(i.defaultProtocol),g=l.resolve(i.format,u.toString(),u.type),c=l.resolve(i.formatHref,v,u.type),y=l.resolve(i.attributes,v,u.type),h=l.resolve(i.tagName,v,u.type),k=l.resolve(i.linkClass,v,u.type),w=l.resolve(i.target,v,u.type),S="<"+h+' href="'+r(c)+'" class="'+r(k)+'"';w&&(S+=' target="'+r(w)+'"'),y&&(S+=" "+n(y)),S+=">"+t(g)+"</"+h+">",p.push(S)}else"nl"===u.type&&i.nl2br?i.newLine?p.push(i.newLine):p.push("<br>\n"):p.push(t(u.toString()))}return p.join("")}var o=e.tokenize,l=e.options;String.prototype.linkify||(String.prototype.linkify=function(e){return i(this,e)}),window.linkifyStr=i}(window.linkify);