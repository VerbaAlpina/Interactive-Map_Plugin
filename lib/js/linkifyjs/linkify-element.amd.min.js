define("linkify-element",["exports","module","./linkify"],function(e,t,n){"use strict";function o(e,t,n){var o=n[n.length-1];e.replaceChild(o,t);for(var r=n.length-2;r>=0;r--)e.insertBefore(n[r],o),o=n[r]}function r(e,t,o){for(var r=[],i=0;i<e.length;i++){var a=e[i],l=a.isLink&&n.options.resolve(t.validate,a.toString(),a.type);if(a.isLink&&l){var s=a.toHref(t.defaultProtocol),p=n.options.resolve(t.format,a.toString(),a.type),f=n.options.resolve(t.formatHref,s,a.type),d=n.options.resolve(t.attributes,s,a.type),v=n.options.resolve(t.tagName,s,a.type),u=n.options.resolve(t.linkClass,s,a.type),c=n.options.resolve(t.target,s,a.type),m=n.options.resolve(t.events,s,a.type),h=o.createElement(v);if(h.setAttribute("href",f),h.setAttribute("class",u),c&&h.setAttribute("target",c),d)for(var g in d)h.setAttribute(g,d[g]);if(m)for(var y in m)h.addEventListener?h.addEventListener(y,m[y]):h.attachEvent&&h.attachEvent("on"+y,m[y]);h.appendChild(o.createTextNode(p)),r.push(h)}else"nl"===a.type&&t.nl2br?r.push(o.createElement("br")):r.push(o.createTextNode(a.toString()))}return r}function i(e,t,a){if(!e||"object"!=typeof e||e.nodeType!==l)throw new Error("Cannot linkify "+e+" - Invalid DOM Node type");var p=t.ignoreTags;if("A"===e.tagName||p.indexOf(e.tagName)>=0)return e;for(var f=e.firstChild;f;){switch(f.nodeType){case l:i(f,t,a);break;case s:var d=f.nodeValue,v=n.tokenize(d),u=r(v,t,a);o(e,f,u),f=u[u.length-1]}f=f.nextSibling}return e}function a(e,t){var o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];try{o=o||window&&window.document||global&&global.document}catch(r){}if(!o)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return t=n.options.normalize(t),i(e,t,o)}var l=1,s=3;a.helper=i,a.normalize=n.options.normalize,t.exports=a});