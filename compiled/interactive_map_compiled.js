var k,n,q,r,v=new aa,w,A,ba=-1,B=new ca,C,D=!1,da={};
function ea(){n=new google.maps.Map(document.getElementById("IM_googleMap"),fa);new google.maps.Data.Feature({highlighted:!1});new google.maps.Data.Feature({clicked:!1});new google.maps.Data.Feature({hovered:!1});n.data.setStyle(function(a){var b=a.getProperty("mapShape").tc,c=b.ob(),b=b.index,d=1,e=.4;a.getProperty("highlighted")&&(d=2,b=1E4,e=.6);return{fillColor:c,fillOpacity:e,strokeColor:c,strokeWeight:d,zIndex:b}});n.data.addListener("click",function(a){a.feature.getProperty("mapShape").Ta(a);
a.feature.setProperty("clicked",!0)});n.data.addListener("mouseover",function(a){a.feature.setProperty("hovered",!0);a.feature.setProperty("highlighted",!0);C=a.feature});n.data.addListener("mouseout",function(a){null!=a?(a.feature.setProperty("hovered",!1),a.feature.getProperty("clicked")||D||a.feature.setProperty("highlighted",!1)):C&&C.setProperty("highlighted",!1)});n.data.addListener("mousedown",function(){D=!0});n.data.addListener("mouseup",function(){D=!1});jQuery("body").on("mouseup",function(){D&&
(D=!1)})}jQuery(function(){ea();q=new ga;r=new ha;w=new ia;A=new ja;jQuery.contextMenu({selector:".addComment",build:function(a){a=q.Nd(1*a.attr("data-index"),1*a.attr("data-main-index"));return jQuery.isEmptyObject(a)?!1:{items:a,callback:q.fe}}});jQuery("#commentTabs").tabs({beforeActivate:v.hd.bind(v)});ka();for(var a in PATH.options)w.Ke(a,PATH.options[a]);jQuery(document).trigger("im_map_initialized")});function ga(){function a(a,b){var d=jQuery.extend({},a),c=d.removed;void 0==c&&(c=d.removed=[]);c.push(b);return d}function b(a,e,f,g){var d=a[e];a=!d.M;var l=document.createElement("tr");d.C=jQuery(l);d instanceof E?(l.style.backgroundColor="lightgray",l.style.cursor="pointer",l.addEventListener("click",function(a){(a.target||a.srcElement)instanceof HTMLInputElement||(d.da=!d.da,q.update())})):null==d.parent&&(l.style.backgroundColor="lightgray");l.className="addComment";l.tabIndex=-1;l.dataset.index=
e;null!=g&&(l.dataset.mainIndex=g,l.addEventListener("mouseover",q.mc.bind(q,e,!0)));g=document.createElement("td");if(d instanceof E){g.className="collapseSymbol";var m=document.createElement("span");d.da?m.appendChild(document.createTextNode("-")):m.appendChild(document.createTextNode("+"));g.appendChild(m)}else g.style["background-color"]="lightgray";l.appendChild(g);g=document.createElement("td");if(d.M||""!=d.G)m=document.createElement("img"),m.src=d.M?PATH.Loading:d.G,g.appendChild(m);l.appendChild(g);
g=document.createElement("td");c(g,d);l.appendChild(g);g=document.createElement("td");if(a){m=document.createElement("input");if(d.D&&d.Ra()||d.P)m.disabled="disabled";m.type="checkbox";m.addEventListener("click",function(a){d.visible(this.checked,!0);A.U()&&d.u==F&&A.ya();a.stopPropagation()});m.checked=d.visible();g.appendChild(m)}l.appendChild(g);g=document.createElement("td");a&&(m=document.createElement("img"),m.src=PATH.Delete,m.width=10,m.height=10,m.style.cursor="auto",m.addEventListener("mouseover",
function(){this.src=PATH.Delete_M}),m.addEventListener("mouseout",function(){this.src=PATH.Delete}),m.addEventListener("click",function(a){var b=A.U();b==d&&(A.kb(!0),A.Ib());q.J(d,!0);(b&&d.u==F||b==d.parent)&&A.ya();a.stopPropagation()}),g.appendChild(m));d instanceof G&&null!=d.parent&&(g.style.borderRight="1px solid",g.style.borderColor="lightgrey");l.appendChild(g);f.appendChild(l);jQuery(document).trigger("im_legend_element_created",d,l);if(d instanceof E&&d.da)for(a=d.c.length,l=0;l<a;l++)b(d.c,
l,f,e)}function c(a,b){for(var d=b.key.split("+"),c=document.createElement("div"),e=0;e<d.length;e++){var l=v.gc(d[e]),m=document.createElement("span"),p=document.createElement("span");p.style["font-weight"]="bold";-1==b.key?m.appendChild(document.createTextNode(B.Hd(b.m))):(m.appendChild(document.createTextNode((0<e?" + ":"")+B.ta(b.m)+" ")),p.appendChild(document.createTextNode(B.L(b.m,d[e])+" ")));c.appendChild(m);c.appendChild(p);void 0!==l&&(l=document.createElement("img"),l.style.vertical_align=
"middle",l.src=PATH.Info,l.addEventListener("click",function(a,d){v.sc(b.m,a,!1);d.stopPropagation()}.bind(this,d[e])),c.appendChild(l))}b instanceof G&&c.appendChild(document.createTextNode(B.Ed(b.m,b.S.length)));if(b.Ra()){d=document.createElement("div");e=document.createElement("div");l=document.createElement("i");m=document.createElement("i");p=document.createElement("span");e.style["float"]="right";l.className=b.D?"fa fa-check-circle-o qcheck q-stack1 greensymbol fa-stack-1x":"fa fa-times-circle-o qcheck q-stack1 fa-stack-1x";
b.P&&(l.className="qcheck q-stack1 fa-stack-1x fa fa-cog fa-spin");m.className="fa fa-circle qcheck q-stack fa-stack-1x";p.className="q-span fa-stack";d.title="Quantify";d.style.vertical_align="middle";d.style.opacity="0.6";d.innerHTML="Q";d.className="quantifyButton";d.id="qbutton_"+b.key;jQuery(d).on("click",function(a){a.stopPropagation();a.preventDefault()});if(!b.P)jQuery(d).one("click",function(a){a.stopPropagation();a.preventDefault();if(0==jQuery("#IM_legend").find(".fa-cog").length&&b.visible()&&
!b.P){jQuery(this).find(".q-stack1");var d=A.U();b.P=!0;q.update();setTimeout(function(){A.D(b,!1,function(){setTimeout(function(){b.P=!1;q.update();d&&d!=b||A.Ib()},100)})},200)}});e.appendChild(d);d.appendChild(p);p.appendChild(l);p.appendChild(m);c.appendChild(e)}a.appendChild(c)}this.elements=[];this.getLength=function(){return this.elements.length};this.ua=function(a){return this.elements[a]};this.addElement=function(a,b){if(void 0!==b){a.$(b);this.elements.splice(b,0,a);for(var d=b+1;d<this.elements.length;d++)this.elements[d].$(d)}else a.$(this.elements.length),
this.elements.push(a)};this.Md=function(a,b){for(var d=0;d<this.elements.length;d++){var c=this.elements[d];if(c.m==a&&c.key==b)return c}return null};this.update=function(){jQuery(document).trigger("im_legend_before_rebuild",this);var a=document.createElement("table");if(0!=this.elements.length){a.className="easy-table easy-table-default";for(var c=0;c<this.elements.length;c++)null!=this.elements[c]&&b(this.elements,c,a)}jQuery("#IM_legend").html(a);jQuery(document).trigger("im_legend_after_update",
this)};this.J=function(b,c){if(b instanceof E)for(var d=0;d<b.c.length;d++)this.J(b.c[d],!1);else A.Wa(b),void 0!==b.B&&(b.u==F?r.Ye(b.B[0],b.B[1]):r.Xe(b.u,b.B)),null!=b.parent&&(b.parent.ia=a(b.parent.ia,b.key),b.parent.La[b.key]=b.F.length,b.visible()&&b.parent.oa--);v.ne(b.key);b instanceof G&&null!=b.parent&&this.Ub(b.key,b.parent);if(c){for(var e=!1,d=0;d<this.elements.length;d++){var h=this.elements[d];if(b==h){for(this.elements.splice(d,1);d<this.elements.length;d++)this.elements[d].$(d);
break}else if(h instanceof E){for(var l=0;l<h.c.length;l++)if(b==h.c[l]){h.c.splice(l,1);0==h.c.length&&this.J(h,!0);e=!0;break}if(e)break}}this.update()}};this.gb=function(a){for(var b=0;b<this.elements.length;b++){var d=this.elements[b];if(d.Ra()&&d instanceof E){var c=d.ia.removed;if(null!=c)for(var h=0;h<c.length;h++)this.Ub(c[h],d,a)}}};this.Ub=function(a,b,c){for(var d=0,e=b.c,f=0;f<e.length;f++){var m=e[f];if(m.key>=a){if(c)this.uc(c,b.key,d,b.La[a]);else for(f=0;f<this.elements.length;f++)this.uc(this.elements[f],
b.key,d,b.La[a]);break}else d+=m.F.length}};this.uc=function(a,b,c,g){a=a.Na();for(var d=0;d<a.length;d++){var e=a[d].Va,f=e[b];void 0!==f&&f>=c&&(e[b]=f>=c+g?f-g:-1)}};this.me=function(){for(var a=this.elements.length,b=0;b<a;b++)this.J(this.elements[0],!0)};this.Dd=function(b){for(var d=[],c=0;c<this.elements.length;c++){var g=this.elements[c];if(b||g.visible()){var h=g.ia;if(!b&&g instanceof E)for(var l=0;l<g.c.length;l++)g.c[l].visible()||(h=a(h,g.c[l].key));d[c]={category:g.m,key:g.key,filter:h,
fixedColors:g.Ma()}}}return d};this.mc=function(){};this.Nd=function(a,b){var d={},c;c=isNaN(b)?q.elements[a]:q.elements[b].c[a];if("-1"!=c.key)for(var e=c.key.split("+"),l=0;l<e.length;l++){var m=B.Od(c.m,e[l],1<e.length);!v.Xd(e[l])&&m&&"1"==PATH.userCanEditComments&&v.Eb(c.m,c.key)&&(d["addComment"+e[l]]={name:m,icon:"edit"});(m=B.Ld(c.m,e[l],1<e.length))&&(d["getList"+e[l]]={name:m,icon:"edit"})}return d};this.fe=function(a,b){var d;d=1*b.$trigger.attr("data-index");var c=1*b.$trigger.attr("data-main-index");
d=isNaN(c)?q.elements[d]:q.elements[c].c[d];0===a.indexOf("addComment")?(c=a.substring(10),v.sc(d.m,c,!0)):0===a.indexOf("getList")&&(new la(B.Jd(d.m),d)).Se()};this.vc=function(a){var b=this.elements.length;if(0==b)a&&a();else{var d,c=A.U(),h=0;d=function(){h++;h==b&&(q.gb(),c&&A.ya(),a&&a())};for(var l=0;l<b;l++){var m=this.elements[l];m.yc();m.wc(d)}this.update()}};this.pd=function(){var a=!1;void 0==a&&(a=!0);for(var b=0;b<this.elements.length;b++)this.elements[b]instanceof E&&(this.elements[b].da=
!1);a&&this.update()}}
function G(a,b){this.m=a;this.key=b;this.$=function(a){this.index=a};this.u=-1;this.M=!0;this.P=this.D=!1;this.Ba=this.G="";this.S=[];this.F=[];this.parent=this.C=null;var c=!0;this.visible=function(a,b){var d;if(null!=a){if(a!=c)if(c=a){if(this.u==H)for(d=0;d<this.F.length;d++)n.data.add(this.F[d]);else{var e=this.S.length;for(d=0;d<e;d++)A.Ya(this.S[d],this)}null!=this.parent&&(this.parent.oa++,this.parent.visible(!0,1==this.parent.oa,!0))}else{if(this.u==H)for(d=0;d<this.F.length;d++)n.data.remove(this.F[d]);else A.Wa(this);
null!=this.parent&&(this.parent.oa--,0==this.parent.oa&&this.parent.visible(!1,!0,!0))}b&&q.update()}return c};this.Db=function(a){this.D=a};this.Na=function(){return this.visible()?this.S:[]};this.yc=function(){this.F=[]};this.Oa=function(){null==this.parent||this.parent.da?(this.C.focus(),this.C.addClass("focused")):(this.parent.C.focus(),this.parent.C.addClass("focused"))};this.blur=function(){this.C.blur()};this.Ze=function(){null!=this.C&&(this.C.removeClass("focused"),this.blur());null!=this.parent&&
null!=this.parent.C&&(this.parent.C.removeClass("focused"),this.parent.blur())};this.wc=function(a,b){this.M=!0;this.Cb();B.ka(this.m,this.key,b?b:this.ia,this.Ma(),a,!1)};this.Ma=function(){return{"-1":this.B}};this.ob=function(){return this.u==F?r.Cd(this.B):r.ob(this.B)};this.Cb=function(){A.Wa(this);this.S=[]};this.Ra=function(){return this.u==H&&null==this.parent}}
function E(a,b){this.m=a;this.key=b;this.$=function(a){this.index=a;for(var b=0;b<this.c.length;b++)this.c[b].$(a)};this.La={};this.u=-1;this.M=!0;this.Ba=this.G="";this.c=[];this.tb=function(a){return this.c[a]};this.Wc=function(a){a.$(this.index);this.c.push(a)};this.yc=function(){for(var a=0;a<this.c.length;a++)this.c[a].F=[]};this.oa=0;this.C=null;this.D=!1;this.Db=function(a){this.D=a;for(var b=0;b<this.c.length;b++)this.c[b].D=a};this.Na=function(){for(var a=[],b=0;b<this.c.length;b++)this.c[b].visible()&&
(a=a.concat(this.c[b].S));return a};this.P=!1;var c=!0;this.visible=function(a,b,f){if(null!=a&&a!=c&&(c=a,!f))for(f=0;f<this.c.length;f++)this.c[f].visible(a,!1);b&&q.update();return c};this.da=!0;this.ua=function(a,b){for(var c=0;c<this.c.length;c++){var d=this.c[c];if(d.m==a&&d.key==b)return d}return null};this.focus=function(){this.C.focus()};this.blur=function(){this.C.blur()};this.wc=function(a,b){this.M=!0;this.Cb();B.ka(this.m,this.key,b?b:this.ia,this.Ma(),a,!1)};this.Ma=function(){for(var a=
{},b=0;b<this.c.length;b++){var c=this.c[b];a[c.key]=c.B}return a};this.Cb=function(){for(var a=0;a<this.c.length;a++){var b=this.c[a];A.Wa(b);b.S=[];b.M=!0}};this.oe=function(){this.c=[]};this.Ra=function(){for(var a=0;a<this.c.length;a++)if(this.c[a].u==H)return!0;return!1}};function ja(){function a(a,b){for(var c=a.length-1;0<=c;c--)for(var d=a[c],e=d.v,h=e.length,f=h-1;0<=f;f--)e[f]==b&&(1==h?(d.jb(),d.h.setMap(null),a.splice(c,1)):(d.le(f),h--))}for(var b=Math.pow(8.983152841195214E-4,2),c=Array(16),d=0;16>d;d++){c[d]=Array(16);for(var e=0;16>e;e++)c[d][e]=[]}var f=[],g=[];this.Ya=function(a,d){if(a.K instanceof google.maps.Data.Point){for(var e=a.K.get().lat(),h=a.K.get().lng(),l=4.884734173789496>h||43.43132018706552>e||16.4712009425153<h||48.367401122753634<e?f:
c[Math.floor((h-4.884734173789496)/.7241541730453628)][Math.floor((e-43.43132018706552)/.30850505848050686)],t=l.length,u=0;u<t;u++){var z=l[u].h.getPosition().lat(),y=l[u].h.getPosition().lng(),z=e-z,y=h-y;if(z*z+y*y<b){l[u].$c(a,d);break}}u==t&&(e=new ma(na(a.K.get(),d.G),[a.W],[d]),l.push(e),e.h.setMap(n))}else l=new google.maps.Data.Feature({geometry:a.K}),d.F.push(l),e=new oa(l,a.W,d),l.setProperty("mapShape",e),g.push(e),n.data.add(l)};this.Wa=function(b){a(f,b);for(var d=c.length,e=c[0].length,
h=0;h<d;h++)for(var x=0;x<e;x++)a(c[h][x],b);for(h=g.length-1;0<=h;h--)d=g[h],d.tc==b&&(d.jb(),n.data.remove(d.feature),g.splice(h,1))};this.mc=function(a,b){for(var d=f.length-1;0<=d;d--)f[d].Oa(a,b);for(var d=c.length,e=c[0].length,h=0;h<d;h++)for(var l=0;l<e;l++)for(var g=c[h][l],z=a,y=b,K=g.length-1;0<=K;K--)g[K].Oa(z,y)};this.i=[];this.D=function(a,b,c){n.data.revertStyle();for(var d=0;d<q.getLength();d++){var e=q.ua(d);e.D&&a!==e&&e.Db(!1)}b||(a.Db(!a.D),jQuery(document).trigger("im_quantify_mode",
a.D));this.i=[];if(a instanceof E)for(d=a.c.length,e=0;e<d;e++)for(var f=a.tb(e),h=0;h<f.F.length;h++)this.i.push(f.F[h]);else for(e=0;e<a.F.length;e++)this.i.push(a.F[e]);for(var f=[],l=!0,h=a.key,d=0;d<q.getLength();d++)for(var e=q.ua(d),g=e.Na(),e=0;e<g.length;e++)g[e].K instanceof google.maps.Data.Point&&(f.push(g[e]),null==g[e].Va[h]&&(l=!1));this.kb(!1);this.i.gf=f.length;if(a.D||b){for(e=0;e<this.i.length;e++)this.i[e].R=0;this.i.la=0;if(l)for(d=0;d<f.length;d++){if(e=f[d].Va[h],-1!=e)try{this.i[e].R++,
this.i[e].R>this.i.la&&(this.i.la=this.i[e].R)}catch(K){console.log(e)}}else{a=[];for(d=0;d<this.i.length;d++)a.push(pa(this.i[d].getGeometry()));for(d=0;d<f.length;d++)for(b=f[d].K.get(),e=0;e<this.i.length;e++)if(google.maps.geometry.poly.containsLocation(b,a[e])){this.i[e].R++;this.i[e].R>this.i.la&&(this.i.la=this.i[e].R);break}}jQuery("#colorbarlegend_right").text(this.i.la);this.fb()}else this.kb(!0);"function"==typeof c&&c()};this.kb=function(a){for(var b=0;b<c.length;b++)for(var d=0;d<c[b].length;d++)if(0<
c[b][d].length)for(var e=0;e<c[b][d].length;e++){var h=c[b][d][e];h.h.setVisible(a)}for(b=0;b<f.length;b++)h=f[b],h.h.setVisible(a)};this.Ib=function(){var a=jQuery("#listcontainer");if("none"==a.css("display")){var b=jQuery("#IM_googleMap").width()/2-128;a.css("left",b);a.fadeIn("fast",function(){n.setMapTypeId(google.maps.MapTypeId.ROADMAP);n.setOptions({styles:da})})}else a.fadeOut("fast",function(){n.setMapTypeId(google.maps.MapTypeId.TERRAIN);n.setOptions({styles:{}})})};this.fb=function(){for(var a=
0;a<this.i.length;a++){var b=0,d=this.i[a];0!==d.R&&d.R&&(b=d.R/this.i.la);var b=Math.floor(255*b),c=document.querySelector("#activediv canvas").getContext("2d").getImageData(b,0,1,1).data,b=c[3],c="rgb("+c[0]+","+c[1]+","+c[2]+")";255>b?(b=Math.round(b/255*10)/10,n.data.overrideStyle(d,{fillColor:c,strokeColor:c,fillOpacity:b,strokeOpacity:b})):n.data.overrideStyle(d,{fillColor:c,strokeColor:c,fillOpacity:.4,strokeOpacity:.4})}};this.U=function(){for(var a=!1,b=0;b<q.getLength();b++){var d=q.ua(b);
d.D&&(a=d)}return a};this.ya=function(){var a=this.U();a.P=!0;q.update();setTimeout(function(){A.D(a,!0,function(){a.P=!1;q.update()})},200)}}function na(a,b){return new google.maps.Marker({position:a,icon:{url:b,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(7.5,7.5)}})}
function oa(a,b,c){this.infoWindow=null;this.W=b;this.feature=a;this.tc=c;this.Ta=function(a){null==this.infoWindow&&(this.infoWindow=new google.maps.InfoWindow({content:this.W.qb()}));google.maps.event.addListener(this.infoWindow,"closeclick",function(){a.feature.setProperty("clicked",!1);a.feature.getProperty("hovered")||a.feature.setProperty("highlighted",!1)});this.infoWindow.setPosition(a.latLng);this.infoWindow.open(n)};this.jb=function(){}}
function ma(a,b,c){this.O=b;this.h=a;this.v=c;this.infoWindow=null;this.Cc=function(a,b){google.maps.event.clearInstanceListeners(this.h);this.h.setMap(null);this.h=a;b&&this.za();google.maps.event.addListener(this.h,"click",this.Ta.bind(this));google.maps.event.addListener(this.h,"mouseover",this.dc.bind(this));google.maps.event.addListener(this.h,"mouseout",this.xc.bind(this));this.h.setMap(n)};this.$c=function(a,b){this.infoWindow=null;if(!a.W.Ic(this,b))if(this.O.push(a.W),this.v.push(b),this.h instanceof
google.maps.Marker){var c=new I({position:a.K.get(),draggable:!1,ef:!0});c.Dc("none");this.Cc(c,!0)}else this.za()};this.za=function(a){if(1==this.v.length)this.Cc(na(this.h.getPosition(),this.v[0].G),!1);else{var b=this.v.length,c=d[b],e=0,l=document.createElement("div"),m=document.createElement("table");m.className="IM_symbol_table";for(var p=0;p<c;p++){for(var x=document.createElement("tr"),t=0;t<c;t++){var u=e+t;if(u>=b)break;else{var z=document.createElement("td"),y=document.createElement("img");
y.src=this.v[u]==a?this.v[u].Ba:this.v[u].G;y.style.cursor="pointer";y.addEventListener("mouseover",function(a){ba=a}.bind(this,u+1));z.appendChild(y);x.appendChild(z)}}e+=c;m.appendChild(x)}l.appendChild(m);this.h.setContent(l);this.h.Ac(qa)}};this.le=function(a){this.v.splice(a,1);null!=this.infoWindow&&this.infoWindow.zc(a);this.O.splice(a,1);this.za()};var d=[0,1,2,2,2,3,3,3,3,3,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6];this.Ta=function(){if(null==this.infoWindow){this.infoWindow=
new J({map:n,position:this.h.getPosition(),minWidth:50});for(var a=0;a<this.O.length;a++)this.infoWindow.Mb('<img src="'+this.v[a].G+'" />',linkifyHtml(this.O[a].qb())),this.O[a].rc(this.infoWindow)}var b=this;google.maps.event.addListenerOnce(this.infoWindow,"closeclick",function(){for(var a=0;a<b.O.length;a++)b.O[a].qc(b.infoWindow);google.maps.event.trigger(n.data,"mouseout")});this.infoWindow.Ec(ba);this.infoWindow.open(n,this.h)};this.jb=function(){null!=this.infoWindow&&this.infoWindow.setMap(null)};
this.xc=function(){this.jc().Ze();!C||C.getProperty("hovered")||C.getProperty("clicked")||C.setProperty("highlighted",!1)};this.dc=function(){this.jc().Oa();if(C&&!C.getProperty("highlighted")){var a=pa(C.getGeometry()),b=this.h.getPosition();google.maps.geometry.poly.containsLocation(b,a)&&C.setProperty("highlighted",!0)}};this.jc=function(){return 1==this.v.length?this.v[0]:this.v[ba-1]};google.maps.event.addListener(this.h,"click",this.Ta.bind(this));google.maps.event.addListener(this.h,"mouseover",
this.dc.bind(this));google.maps.event.addListener(this.h,"mouseout",this.xc.bind(this));this.Oa=function(a,b){1==this.v.length&&this.v[0]==a?this.h.setIcon({url:b?a.Ba:a.G,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(7.5,7.5)}):b?this.za(a):this.za()}}function ra(a,b,c){this.W=a;this.K=b;this.Va=[];null!=c&&(this.Va=c)};var F=0,H=1,L=2;
function ha(){var a=sa;function b(a){z[a][u[a]]=!1;for(u[a]++;u[a]<z[a].length&&!z[a][u[a]];)u[a]++}function c(){h=(h+1)%e;for(var a=0;m[h]!=f&&!(h=(h+1)%e,a++,h!=l&&a>=e););if(!(a<e))for(a=0;0==m[h];)if(h=(h+1)%e,a++,h!=l&&a>=e){h=0<m[l]?l:-1;break}}function d(a,b){for(var c=0,d=Array(b),e=p[a],h=0;h<f&&(!e[h]||(e[h]=!1,d[c++]=[a,h,15],c!=b));h++);return d}for(var e=a.kc(ta),f=a.kc(ua),g=a.Pd(),h,l,m=Array(e),p=Array(e),x=Array(e),t=0;t<e;t++)p[t]=Array(f);for(var u=Array(3),z=Array(3),t=1;3>t;t++)z[t]=
Array(g);this.pe=function(){h=0;l=-1;for(var a=0;a<e;a++){m[a]=f;for(var b=0;b<f;b++)p[a][b]=!0;x[a]=0}for(a=1;3>a;a++)for(b=u[a]=0;b<g;b++)z[a][b]=!0};this.pe();this.ab=function(a){var c;if(null==c){if(u[a]>=z[a].length)throw"No color for polygons left!";c=u[a];b(a);return c+g*(a-1)}var d=c-g*(a-1);if(0>d||d>=g)throw"Index not valid for this overlay type!";d==u[a]?b(a):z[a][d]=!1;return c};this.Pb=function(a,b){if(0==b)return[];for(var c=Array(b),d=0;d<b;d++)c[d]=this.ab(a);return c};this.Xe=function(a,
b){var c=b-g*(a-1);z[a][c]=!0;c<u[a]&&(u[a]=c)};this.ob=function(b){b=a.fc(b%g);return"#"+M(b[0])+M(b[1])+M(b[2])};this.Rb=function(a,b,f){if(0==a)return[];if(null==f){a:{if(-1==h)throw"No symbols left!";if(1==b&&(-1==l&&(l=h,c()),0<m[l])){m[l]--;a=d(l,1);break a}if(m[h]>=a)b=d(h,a),m[h]-=a,c(),a=b;else{for(b=h+1;b!=h;b=(b+1)%e)if(m[b]>=a){m[b]-=a;break}if(b==h)throw"Not enough symbols left!";a=d(b,a)}}return a}m[f]-=a;return d(f,a)};this.jd=function(a){jQuery.isArray(a)?(p[a[0]][a[1]]=!1,m[a[0]]--,
h==a[0]&&c()):this.Qb(a);return a};this.Qb=function(a){if(jQuery.isArray(a))p[a[0]][a[1]]=!1,m[a[0]]--,-1==l&&(l=a[0],h==l&&c());else{var d=Math.floor(a/g)+1,e=a-g*(d-1);u[d]==a?b(d):z[d][e]=!1}return a};this.Ye=function(a,b){p[a][b]=!0;m[a]++;m[a]==f&&(h>a&&(h=a),a==l&&(l=-1));if(-1==h||h==l)h=a};this.Ia=function(b){var c;null==c&&(c=15);b=a.hc(b);c=PATH.symbolGenerator+"?size="+c;for(var d in b)c+="&"+d+"="+encodeURIComponent(b[d]);return c};this.zd=function(b){var c;null==c&&(c=15);b=a.Sd(b);c=
PATH.symbolGenerator+"?size="+c;for(var d in b)c+="&"+d+"="+encodeURIComponent(b[d]);return c};this.Zb=function(b){var c=PATH.symbolGenerator+"?size=15&shape=circle";return c+="&color="+a.fc(b)};this.Cd=function(b){b=a.hc(b).color;return"#"+M(b[0])+M(b[1])+M(b[2])};this.$b=function(a){return a}}var ta=0,ua=1;function va(a,b,c,d){this.name=a;this.values=b;this.overflow=null==d?b.length:d;this.$d=null==c?!1:c};function aa(){function a(a,b,c){jQuery.post(ajaxurl,{action:"im_u",namespace:"comments",mode:a,content:b,lang:d,key:e,name:PATH.mapName,_wpnonce:jQuery("#_wpnonce_comments").val()},function(a){c(a)})}var b=new Map,c=new Map,d,e,f=!1,g=!1;this.Eb=function(){return!0};this.Kb=function(a,d){var e=c.get(a);void 0===e?(b.set(a,d),c.set(a,1)):c.set(a,e+1)};this.ne=function(a){var d=c.get(a);void 0!==d&&(1===d?(b["delete"](a),c["delete"](a)):c.set(a,d-1))};this.gc=function(a){return b.get(a)};this.$e=function(a,
d,e){var f=b.get(a);void 0===f?""!==e&&(f={},f[d]=e,b.set(a,f),c.set(a,1)):""==e?(delete f[d],jQuery.isEmptyObject(f)&&(b["delete"](a),c["delete"](a))):f[d]=e};this.Xd=function(a){return b.has(a)};this.sc=function(a,b,c){g=this.Eb(a,b);var f=!1;e=b;d=PATH.language;jQuery("#commentTitle").html(B.ta(a)+" <i>"+B.L(a,b)+"</i>");jQuery("#commentTabs").tabs("disable");a=this.gc(b);for(var h in a)this.na(h,a[h],c),h==d&&(f=!0);f||(c?this.na(d,"",c):this.na(d,"<font color='red'>"+TRANSLATIONS.COMMENT_LANG_MISSING+
"</font>",c));f=jQuery('#commentTabs a[href="#ctabs-'+d+'"]').parent().index();jQuery("#commentTabs").tabs("option","active",f);this.Ha(jQuery("#commentContent-"+d),c);jQuery("#commentWindow").dialog({minWidth:700,maxHeight:600,beforeClose:this.gd.bind(this)})};this.na=function(a,b,c){null==b&&(b="");jQuery("#commentContent-"+a).html(b);jQuery("#commentTabs").tabs("enable","#ctabs-"+a);c?(jQuery("#saveComment-"+a).css("display","inline"),jQuery("#editComment-"+a).css("display","none"),jQuery("#commentContent-"+
a).html("<textarea id='commentEditField' style='width: 95%; height: 150pt;'>"+b+"</textarea>"),jQuery("#commentContent-"+a+" textarea").focus()):(jQuery("#saveComment-"+a).css("display","none"),g?jQuery("#editComment-"+a).css("display","inline"):jQuery("#editComment-"+a).css("display","none"))};this.Ad=function(){a("get",null,function(a){v.na(d,JSON.parse(a),!0);f=!0})};this.re=function(){var b=this;a("update",jQuery("#commentEditField").val(),function(a){b.Ga(jQuery("#commentContent-"+d),!0);v.$e(e,
d,a);q.update();f=!1;""==a?jQuery("#commentWindow").dialog("close"):(jQuery("#commentContent-"+d).html(a),jQuery("#saveComment-"+d).css("display","none"),jQuery("#editComment-"+d).css("display","inline"),b.Ha(jQuery("#commentContent-"+d),!1))})};this.hd=function(a,c){if(f){if(confirm(TRANSLATIONS.SAVE_CHANGES))return!1;var g=b.get(e)[d];null==g?this.na(d,"<font color='red'>"+TRANSLATIONS.COMMENT_LANG_MISSING+"</font>",!1):this.na(d,g,!1);f=!1}jQuery("#commentWindow").is(":visible")&&this.Ga(jQuery("#commentContent-"+
d),f);g=c.newPanel.attr("id");d=g.substring(g.length-2);this.Ha(jQuery("#commentContent-"+d),f);return!0};this.gd=function(){if(f){if(confirm(TRANSLATIONS.SAVE_CHANGES))return!1;f=!1}this.Ga(jQuery("#commentContent-"+d),f)};this.Ha=function(){};this.Ga=function(){}};function ia(){this.options={};this.state={};this.cb=-1;this.Ca=function(a,c){this.options[a]=c};this.Ke=function(a,c){this.state[a]=c};this.Ka=function(a){for(var b in this.options)this.options[b].Bc(a)};this.De=function(a){this.ha||this.ae();a?(a=this.vd(),null!=a&&n.controls[google.maps.ControlPosition.TOP_CENTER].push(a)):(this.ha.setMap(null),n.controls[google.maps.ControlPosition.TOP_CENTER].clear(),this.cb=-1)};this.Ce=function(a){this.cb=a;-1==a?this.ha.setMap(null):(this.ha.setOptions({drawingControlOptions:{drawingModes:B.Qd(a),
position:google.maps.ControlPosition.TOP_CENTER}}),this.ha.setMap(n))};this.ae=function(){this.ha=new google.maps.drawing.DrawingManager({drawingControl:!0,markerOptions:{icon:PATH.symbolGenerator+"?size=20&shape=circle&color=255,255,255",draggable:!0,zIndex:9999},polygonOptions:{fillColor:"#fff",fillOpacity:1,borderColor:"000",strokeWeight:1,draggable:!0,editable:!0,zIndex:9999},polylineOptions:{strokeWeight:5,strokeOpacity:1,strokeColor:"#fff",draggable:!0,editable:!0,zIndex:9999}});google.maps.event.addListener(this.ha,
"overlaycomplete",this.je.bind(this))};this.je=function(a){var b=B.Fd(this.cb,a.type);0<b.length&&(new J({minWidth:50,content:this.sd(b)})).open(n,a.overlay)};this.sd=function(a){for(var b=document.createElement("div"),d=document.createElement("table"),e=0;e<a.length;e++){var f=document.createElement("tr"),g=a[e],h=document.createElement("td");h.style.paddingRight="10px";h.innerHTML=g.name;f.appendChild(h);h=document.createElement("td");h.appendChild(g.type.td());f.appendChild(h);d.appendChild(f)}b.appendChild(d);
return b};this.wd=function(){var a=this,c=document.createElement("div");c.style.backgroundColor="#fff";c.style.border="2px solid #fff";c.style.borderRadius="3px";c.style.boxShadow="0 2px 6px rgba(0,0,0,.3)";c.style.margin="5px";c.style.textAlign="center";var d=document.createElement("div");d.style.color="rgb(25,25,25)";d.style.fontFamily="Roboto,Arial,sans-serif";d.style.fontSize="16px";d.style.lineHeight="38px";d.style.paddingLeft="5px";d.style.paddingRight="5px";d.style.fontWeight="bold";d.style.cursor=
"pointer";d.innerHTML=TRANSLATIONS.OPTIONS;c.appendChild(d);jQuery(c).on("mouseover",function(){a.Vc()});this.wa=c};this.Vc=function(){var a=document.createElement("div");a.style.display="none";a.style.position="absolute";a.style.bottom="-45";a.style.right="0";a.style.background="#fff";a.style.border="2px solid #fff";a.style.borderRadius="3px 0 3px 3px";a.style.marginRight="5px";a.style.minWidth="300px";a.style.textAlign="left";a.style.paddingTop="10px";a.style.paddingBottom="20px";this.sa=B.Gd();
"1"==PATH.userCanEditMapData&&0<this.sa.length&&this.Ca("editMode",new wa(!1,"Edit Mode",this.De));for(var c in this.options){var d=this.options[c];void 0===this.state[c]&&(this.state[c]=d.defaultValue);d.Fe(c);d.ad(this.state[c]);d.Zc(a)}this.wa.appendChild(a);jQuery(this.wa).off();this.wa.addEventListener("mouseover",function(){a.style.display="block";a.className="visible"});this.wa.addEventListener("mouseout",function(){a.className="";window.setTimeout(function(){""==a.className&&(a.style.display=
"none")},100)});a.style.display="block";a.className="visible"};this.vd=function(){var a=this,c=document.createElement("div");c.index=0;c.style.background="#fff";c.style.border="2px solid #fff";c.style.borderRadius="3px";c.style.boxShadow="0 2px 6px rgba(0,0,0,.3)";c.style.margin="5px";c.appendChild(document.createTextNode(TRANSLATIONS.ADD_NEW_DATA+":"));var d=document.createElement("select"),e=document.createElement("option");e.value="-1";e.innerHTML=TRANSLATIONS.CHOOSE_CATEGORY;e.selected="selected";
d.appendChild(e);for(var f=e=0;f<this.sa.length;f++)if(B.nd(this.sa[f])){var g=document.createElement("option");g.innerHTML=B.ta(this.sa[f]);g.value=this.sa[f];d.appendChild(g);e++}if(0==e)return null;d.addEventListener("change",function(){a.Ce(this.value)});c.appendChild(d);return c};var a=document.createElement("div");this.wd();a.appendChild(this.wa);a.index=1;n.controls[google.maps.ControlPosition.TOP_RIGHT].push(a)}
function wa(a,b,c){this.defaultValue=a;a=document.createElement("input");a.type="checkbox";a.addEventListener("change",function(){var a=jQuery(this).is(":checked");w.state[this.key]=a;c.bind(w)(a)});this.elements=[];this.elements.push(a);this.elements.push(document.createTextNode(b));this.elements.push(document.createElement("br"));this.Zc=function(a){for(var b=0;b<this.elements.length;b++)a.appendChild(this.elements[b])};this.Bc=function(a){a?this.elements[0].removeAttribute("disabled"):this.elements[0].disabled=
"disabled"};this.ad=function(a){a?this.elements[0].checked="checked":this.elements[0].removeAttribute("checked")};this.Fe=function(a){this.key=a}}function za(a,b){var c=Aa;this.name=a;this.type=c;this.required=b;this.value=void 0};function ca(){this.qa={};this.Nb={};this.ub={simple:Ba};this.o={};this.o["-1"]=new N(-1,"?","","");this.o["-2"]=new N(-2,"!","","");this.o["-3"]=new N(-2,"#","","");this.ma=function(a){this.o[a.Fa]=a;null!=a.element&&a.element.change(this.Qe.bind(this,a.element,a.Fa,a.cc))};this.pa=function(a,b){this.qa[a]=b};this.Lb=function(a,b){this.Nb[a]=b};this.Hd=function(a){a=this.o[a].ie;return void 0===a?"":a};this.ta=function(a){return this.o[a].name};this.Bd=function(a){return this.o[a].od};this.L=function(a,
b){var c=this.Nb[b];if(void 0!==c)return c;c=this.o[a];return void 0==c.Wb?(c=c.element,null==c?b:c.data("getName")(b)):c.Wb(b)};this.Od=function(a,b,c){a=this.o[a];if(a.Hc){var d=a.Hc;c&&(d+=" ("+this.L(a.Fa,b)+")");return d}return null};this.Ld=function(a,b,c){a=this.o[a];if(a.Gc){var d=a.Gc;c&&(d+=" ("+this.L(a.Fa,b)+")");return d}return null};this.Jd=function(a){return this.o[a].Sa};this.Ed=function(a,b){var c=this.o[a];return null==c.ib?"":1==b?" (1 "+c.ib+")":" ("+b+" "+c.Yb+")"};this.Qd=function(a){a=
this.o[a];return a.Y?Object.keys(a.Y.bc):[]};this.Qe=function(a,b,c){var d=this.Bd(b)+a.data("getSelectedValue")();a.data("reset")();if(0!=d){a=!0;if(void 0!=c&&0<c.length){var e=this;jQuery("#IM_filter_popup_title").text(this.L(b,d));jQuery("#IM_filter_popup_content").empty();for(var f=Array(c.length),g=0;g<c.length;g++)f[g]=c[g].va(b,d),null!=f[g]&&(jQuery("#IM_filter_popup_content").append(f[g]),jQuery("#IM_filter_popup_content").append("<br />"),c[g].Da(f[g],b,d),a=!1);a||(jQuery("#IM_filter_popup_submit").unbind("click"),
jQuery("#IM_filter_popup_submit").click(function(){jQuery("#IM_filter_popup_div").dialog("close");for(var a={},g=0;g<c.length;g++)null!=f[g]&&c[g].Aa(a,f[g],b,d);e.ka(b,d,a)}),jQuery("#IM_filter_popup_div").dialog({minWidth:700,resizable:!1,modal:!0,title:this.ta(b)}))}a&&this.ka(b,d)}};this.oc=function(a){a={action:"im_a",namespace:"load_syn_map",key:a,lang:PATH.language,_wpnonce:jQuery("#_wpnonce").val()};for(var b in this.qa)a[b]=this.qa[b];jQuery.post(ajaxurl,a,function(a){if("NO_MAP"==a)console.error("Map does not exist!");
else{a=JSON.parse(a);var b=a[0];n.setCenter(new google.maps.LatLng(b.Center_Lat,b.Center_Lng));n.setZoom(1*b.Zoom);for(var c=0,f=a[1].length,b=function(){c++;c==f&&q.gb()},g=0;g<f;g++){var h=a[1][g];B.ka(1*h.category,h.key,h.filter,h.fixedColors,b,!1)}}})};this.ka=function(a,b,c,d,e,f){void 0===f&&(f=!0);var g=q.Md(a,b);if(null!=g&&null==d){var h=g.index;q.J(g,!0);g=null}var l={key:b},m;for(m in this.qa)l[m]=this.qa[m];void 0!=c&&(l.filter=c);null!=d&&null!=g&&(l.noComments=!0);var p=!1,x=void 0===
c||void 0===c.subElementCategory||-2==c.subElementCategory;null==g&&(g=x?new G(a,b):new E(a,b),q.pd(),q.addElement(g,h),p=!0);q.update();var t=this;Ca(a,l,function(a){-1==a?(alert("Loading error! No Sever response!"),q.J(g,!0)):"Error"==a.substring(0,5)?(alert(a),q.J(g,!0)):(a=JSON.parse(a),a[3]&&jQuery("#im_debug_area").html(a[3]),x?t.yd(a,g,d,!p,f):t.ud(a,g,c,d,!p,f),void 0!=c&&(g.ia=c),f&&q.gb(g),e&&e())})};this.se=function(){var a="1"==jQuery("input[name='IM_Syn_Map_All']:checked").val(),b=!0;
if(!a){for(var c=0;c<q.getLength();c++)if(q.ua(c).visible()){b=!1;break}if(b){alert(TRANSLATIONS.NO_SELECTION);return}}var d=jQuery("#IM_Syn_Map_Name").val();if(""==d)alert(TRANSLATIONS.ENTER_NAME);else{var b=jQuery("#IM_Syn_Map_Description").val(),c=jQuery("#IM_Syn_Map_Release").prop("checked"),e=n.getCenter();jQuery.post(ajaxurl,{action:"im_u",namespace:"save_syn_map",name:d,description:b,release:c?"Applied":"Private",zoom:n.getZoom(),center_lat:e.lat(),center_lng:e.lng(),author:PATH.userName,data:q.Dd(a),
_wpnonce:jQuery("#_wpnonce_syn_map_save").val()},function(a){"NAME_EXISTS"==a?alert(TRANSLATIONS.MAP_ALREADY_EXISTS):(isNaN(a)||-1==1*a?alert(TRANSLATIONS.SAVE_MAP_ERROR+" ("+a+")"):alert(TRANSLATIONS.SAVE_MAP_SUCCESS),jQuery("#IM_Save_Syn_Map").dialog("close"),jQuery("#IM_Syn_Map_Selection").append('<option value="'+a+'">'+d+"<option>").trigger("chosen:updated"))})}};this.yd=function(a,b,c,d,e){var f;try{null!=c&&(f=c["-1"]),f=this.xd(a[0],b,f,d)}catch(x){alert(TRANSLATIONS.NO_SYMBOLS_LEFT);q.J(b,
!0);return}d||(b.u==F?(b.G=r.Ia(f),b.Ba=r.Ia(r.$b(f))):b.G=r.Zb(f));c=!d||b.visible();if(Object.getPrototypeOf(Object(a[1]))===Object.getPrototypeOf([]))q.J(b,!0),alert(TRANSLATIONS.NO_DATA+" ("+B.L(b.m,b.key)+")!");else{d=a[1]["-1"][1];f=d.length;for(var g=0;g<f;g++){var h=d[g];if(null==h[1])console.error("Element "+JSON.stringify(h[0]).substring(0,50)+" has no geo data!"),g++;else{var l=Da(h[1]),m=this.ub[h[0].elementType];delete h[0].elementType;if(void 0==m)throw"InfoWindow type not found!";h=
new ra(new m(h[0]),l,h[2]);b.S.push(h);c&&null!=h.K&&A.Ya(h,b)}}for(var p in a[2])v.Kb(p,a[2][p]);e&&A.U()&&A.ya();b.M=!1;q.update()}};this.xd=function(a,b,c,d){null==c?0<a[F]?(c=r.Rb(1,!0)[0],b.u=F):0<a[H]?(c=r.ab(H),b.u=H):(c=r.ab(L),b.u=L):d||(c=r.Qb(c),b.u=0<a[F]?F:0<a[H]?H:L);return b.B=c};this.ud=function(a,b,c,d,e,f){for(var g={},h=0;h<b.c.length;h++){var l=b.tb(h);g[l.key]=l.visible()}b.oe();var m=Object.keys(a[1]).length;if(0<m){for(var p in a[1])isNaN(a[1][p])||(b.La[p]=a[1][p],delete a[1][p]);
p=B.Vd(b.m);var h=void 0==p?Ea(a[1]):p.Ud(a[1],c),l=h.length,x=void 0,t=[];for(p=0;3>p;p++)t[p]=a[0][p];for(var u=0;u<l;u++){p=h[u];var z=a[1][p][0],y=new G(c.subElementCategory,p);if(void 0!=d){var K=d[p];void 0!=K&&(y.B=r.jd(d[p]),z==F&&(x=K[ta]),t[z]--)}y.u=z;y.visible(g[p]);y.parent=b;b.Wc(y);b.oa++}d=[];try{d[F]=r.Rb(t[F],!1,x),void 0==x&&0<d[F].length&&(x=d[F][0][ta]),d[H]=r.Pb(H,t[H]),d[L]=r.Pb(L,t[L])}catch(rb){alert(TRANSLATIONS.NO_SYMBOLS_LEFT+" ("+m+")");q.J(b,!0);return}t.fill(0);for(g=
0;g<l;g++){p=h[g];y=b.tb(g);z=a[1][p][0];void 0==y.B&&(y.B=d[z][t[z]++]);z==F?(y.G=r.Ia(y.B),y.Ba=r.Ia(r.$b(y.B))):y.G=r.Zb(y.B);m=a[1][p][1].length;z=!e||y.visible();u=a[1][p][1];for(K=0;K<m;K++){var O=u[K];if(null==O[1])console.error("Element "+JSON.stringify(O[0]).substring(0,50)+" has no geo data!");else{var X=Da(O[1]),xa=this.ub[O[0].elementType];delete O[0].elementType;if(void 0==xa)throw"InfoWindow type not found!";X=new ra(new xa(O[0]),X,O[2]);y.S.push(X);-1==c.subElementCategory&&this.Lb(p,
O[0].name);z&&null!=X.K&&A.Ya(X,y)}}y.M=!1}e||void 0==x||(b.G=r.zd(x));for(var ya in a[2])v.Kb(ya,a[2][ya]);f&&A.U()&&A.ya();b.M=!1;q.update()}else q.J(b,!0),alert(TRANSLATIONS.NO_DATA+" ("+B.L(b.m,b.key)+")!")};this.Vd=function(a){a=this.o[a].cc;if(null!=a&&0!=a.length)for(var b=0;b<a.length;b++)if(a[b]instanceof P)return a[b].aa};this.Uc=function(){this.ub.record=Fa};this.Gd=function(){var a=[],b;for(b in this.o)this.o[1*b].Y&&a.push(1*b);return a};this.nd=function(a){a=this.o[a];return void 0!=
a.Y&&a.Y.md};this.Fd=function(a,b){var c=this.o[a];return c.Y?c.Y.bc[b]:[]}}function N(a,b,c,d,e,f,g,h,l,m,p,x){this.Fa=a;this.Sa="object"==typeof m&&null!=m?m:new Ga;this.od=b.charAt(0);this.name=c;this.ie=d;this.element=null;null!=e&&(this.element=jQuery("#"+e));this.cc=f;this.Yb=this.ib=void 0;null!=g&&2<=g.length&&(this.ib=g[0],this.Yb=g[1]);this.Wb=p;this.Hc=h;if(void 0!=f)for(a=0;a<f.length&&!(f[a]instanceof P);a++);this.Gc=l;this.Y=x};function Da(a){if(-1!=a.indexOf("MULTIPOLYGON")){a=a.replace("MULTIPOLYGON(((","");a=a.replace(")))","");a=a.split(")),((");a[0].replace("((","");a[a.length-1].replace("))","");for(var b=[],c=0;c<a.length;c++)b.push(new google.maps.Data.Polygon(Ha(a[c])));a=new google.maps.Data.MultiPolygon(b)}else if(-1!=a.indexOf("POLYGON"))a=a.replace("POLYGON((",""),a=a.replace("))",""),a=new google.maps.Data.Polygon(Ha(a));else if(-1!=a.indexOf("MULTILINESTRING")){a=a.replace("MULTILINESTRING((","");a=a.replace("))",
"");a=a.split("),(");b=Array(a.length);a[0].replace("(","");a[a.length-1].replace(")","");for(c=0;c<a.length;c++)b[c]=Ia(a[c]);a=new google.maps.Data.MultiLineString(b)}else-1!=a.indexOf("LINESTRING")?(a=a.replace("LINESTRING(",""),a=a.replace(")",""),a=new google.maps.Data.LineString(Ia(a))):-1!=a.indexOf("POINT")?(a=a.replace("POINT(",""),a=a.replace(")",""),a=a.split(" "),a=2!=a.length?null:new google.maps.Data.Point(new google.maps.LatLng(1*a[1],1*a[0]))):a=null;return a}
function Ha(a){var b=[];a=a.split("),(");for(var c=0;c<a.length;c++){b[c]=[];for(var d=a[c].split(","),e=0;e<d.length;e++){var f=d[e].split(" ");b[c].push(new google.maps.LatLng(1*f[1],1*f[0]))}}return b}function Ia(a){var b=[];a=a.split(",");for(var c=0;c<a.length;c++){var d=a[c].split(" ");b.push(new google.maps.LatLng(1*d[1],1*d[0]))}return b}
function pa(a){var b=[];if(a instanceof google.maps.Data.Polygon)for(var c=0;c<a.getLength();c++)b.push(a.getAt(c).getArray());else for(c=0;c<a.getLength();c++)for(var d=a.getAt(c).getArray(),e=0;e<d.length;e++)b.push(d[e].getArray());return new google.maps.Polygon({paths:b})};function Ca(a,b,c){jQuery.post(ajaxurl,jQuery.extend({action:"im_a",namespace:"load_data",category:a,lang:PATH.language,_wpnonce:jQuery("#_wpnonce").val()},b),function(a){c(a)})}function M(a){var b;a=a.toString(16);for(b="undefined"===typeof b||null===b?b=2:b;a.length<b;)a="0"+a;return a};function ka(){jQuery(".im_table_select").val("").chosen({cf:!0});jQuery(".im_table_select").each(function(){jQuery(this).data("getSelectedValue",function(){return jQuery(this).val()}.bind(this));jQuery(this).data("getName",function(a){a=a.substring(1);return jQuery(this).children("option[value='"+a+"']").first().text()}.bind(this));jQuery(this).data("reset",function(){jQuery(this).val("0").trigger("chosen:updated")}.bind(this))});jQuery(".editCommentLink").click(v.Ad);jQuery(".saveCommentButton").click(function(){v.re()});
jQuery(".sf-menu-toplevel").superfish();jQuery(".sf-tree-leaf").click(function(){var a=jQuery(this).closest(".sf-menu-toplevel");a.data("lastValue",jQuery(this).data("id"));a.trigger("change");jQuery(a).superfish("hide")});jQuery(".sf-menu-toplevel").each(function(){jQuery(this).data("getSelectedValue",function(){return jQuery(this).data("lastValue")}.bind(this));jQuery(this).data("getName",function(a){a=a.substring(1);return jQuery(this).find("a[data-id="+a+"]").text()}.bind(this));jQuery(this).data("reset",
function(){})});var a=jQuery("#IM_Syn_Map_Selection");a.val("").trigger("chosen:updated");a.change(function(){!1!==A.U()&&A.Ib();q.me();B.oc(1*a.val());a.val("").trigger("chosen:updated")});jQuery("#IM_Save_Syn_Map_Button").click(function(){0==q.getLength()?alert(TRANSLATIONS.NO_SELECTION):(jQuery("#IM_Syn_Map_Name").val(""),jQuery("#IM_Syn_Map_Description").val(""),jQuery("#IM_Save_Syn_Map").dialog({minWidth:500}))});jQuery("#IM_Save_Syn_Map_Final_Button").click(B.se);jQuery("#helpRelease").qtip({content:{text:TRANSLATIONS.HELP_RELEASE},
style:{df:"qtip-blue"}});Ja()}function Ja(){jQuery.ajax({dataType:"json",url:PATH.gradientFile,success:function(a){Ka(a)}});jQuery.ajax({dataType:"json",url:PATH.mapStyleDark,success:function(a){da=a}})}
function Ka(a){var b=jQuery('<div id="listcontainer"></div>');jQuery("body").append(b);var c=!1,d=!1,e=jQuery('<ul class="canvas_list"></ul>');b.append(e);e=jQuery('<i style="display:none" class="fa fa fa-long-arrow-up canvas_icon" aria-hidden="true"></i>');b.append(e);b.append(jQuery('<div id="activediv"></div>'));for(b=0;b<a.length;b++){var f=a[b],g=jQuery('<canvas id="barcanvas_'+b+'" class="barcanvas" width=256" height="35" ></canvas>');if(0==b){var e=jQuery("#activediv"),h=jQuery('<div class="exchangeparent"></div>'),
l=jQuery('<div id="colorbarlegend_left" class="colorbarlegenditem">0</div>'),m=jQuery('<div id="colorbarlegend_right" class="colorbarlegenditem">142</div>');e.append(l);e.append(m);e.append(h);h.append(g);g=jQuery('<div class="hoverdiv"></div>');h.append(g);g=jQuery('<div class="canvastext">'+f.name+"</div>");h.append(g);h=document.getElementById("barcanvas_"+b);La(h,f);f=jQuery('<i style="display:none;" class="fa fa-pencil-square editsymbol" aria-hidden="true"></i>');e.append(f);f=jQuery('<i style="display:none;" class="fa fa-square editsymbolbg" aria-hidden="true"></i>');
e.append(f)}else e=jQuery("<li></li>"),e.append(g),jQuery(".canvas_list").prepend(e),g=jQuery('<div class="hoverdiv"></div>'),e.append(g),g=jQuery('<div class="canvastext">'+f.name+"</div>"),e.append(g),h=document.getElementById("barcanvas_"+b),La(h,f)}jQuery(".canvas_list li").hover(function(){jQuery(this).find(".hoverdiv").show();jQuery(this).find(".canvastext").show()},function(){jQuery(this).find(".hoverdiv").hide();jQuery(this).find(".canvastext").hide()});jQuery("#activediv").hover(function(){jQuery(this).find(".hoverdiv").show();
jQuery(this).find(".canvastext").show();jQuery("#listcontainer").find(".canvas_icon").show();d||(jQuery(this).find(".editsymbol").show(),jQuery(this).find(".editsymbolbg").show())},function(){jQuery(this).find(".hoverdiv").hide();jQuery(this).find(".canvastext").hide();jQuery("#listcontainer").find(".canvas_icon").hide();jQuery(this).find(".editsymbol").hide();jQuery(this).find(".editsymbolbg").hide()});jQuery(".editsymbol").hover(function(){c=!0},function(){c=!1});jQuery("#activediv").click(function(){c||
(d=!d,jQuery(".canvas_list").slideToggle(),jQuery(".canvas_icon").toggleClass("fa fa-long-arrow-up fa fa-long-arrow-down"),jQuery(this).find(".editsymbol").hide(),jQuery(this).find(".editsymbolbg").hide(),jQuery(".colorbarlegenditem").hide(),d||(jQuery(this).find(".editsymbol").show(),jQuery(this).find(".editsymbolbg").show(),setTimeout(function(){jQuery(".colorbarlegenditem").fadeIn("slow")},200)))});jQuery(".canvas_list li").click(function(){var a=jQuery(this).children();jQuery(this).find(".hoverdiv");
var b=jQuery(".exchangeparent").children();jQuery(".canvas_list").slideToggle();jQuery(".colorbarlegenditem").css("display","none")&&setTimeout(function(){jQuery(".colorbarlegenditem").fadeIn("slow")},200);jQuery(".canvas_icon").toggleClass("fa fa-long-arrow-up fa fa-long-arrow-down");jQuery(".exchangeparent").append(a);jQuery(this).prepend(b);d=!1;A.fb()});jQuery(".editsymbol").colorPicker({doRender:!1,opacity:!0,buildCallback:function(){jQuery("#listcontainer").append(jQuery(".cp-color-picker"))},
renderCallback:function(a,b){var c=this.color.colors,d=c.RND.rgb,e=c.alpha,c=document.querySelector("#activediv canvas");if(b){var f=c.getContext("2d").getImageData(0,0,1,1).data;this.color.setColor("rgba("+f[0]+","+f[1]+","+f[2]+","+Math.round(f[3]/255*10)/10+")");this.render()}else A.fb();if(!b){c=c.getContext("2d");c.globalAlpha=e;for(var e=Math.floor(255*e),f=c.getImageData(0,0,1,35),g=f.data,h=0,l=g.length;h<l;h+=4)g[h]=d.r,g[h+1]=d.g,g[h+2]=d.b,g[h+3]=e;c.putImageData(f,0,0)}}});a=document.getElementById("listcontainer");
jQuery("#listcontainer").hide();n.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(a)}function La(a,b){var c=a.getContext("2d");c.rect(0,0,a.width,a.height);for(var d=c.createLinearGradient(0,0,256,0),e=0;e<b.stops.length;e++)d.addColorStop(b.stops[e].value,b.stops[e].color);c.fillStyle=d;c.fillRect(0,0,256,35)};function Ma(){this.Ua=[];this.Za=function(a){this.Ua.push(a)};this.Rd=function(){for(var a=[],b=0;b<this.Ua.length;b++)a.push(this.Ua[b].getName());return a};this.Td=function(a){return this.Ua[a]}};function la(a,b){this.Sa=a;this.element=b;this.dialog=null;var c=this;this.ld=function(){var a=document.createElement("div"),b=document.createElement("table"),c=document.createElement("tr"),g=document.createElement("td");g.appendChild(document.createTextNode(TRANSLATIONS.SELECT_LIST_TYPE));c.appendChild(g);var g=document.createElement("td"),h=document.createElement("select");h.id="listManagerPrinterSelection";for(var l=this.Sa.Kd(),m=0;m<l.length;m++){var p=document.createElement("option");p.value=
m;p.appendChild(document.createTextNode(l[m]));h.appendChild(p)}g.appendChild(h);c.appendChild(g);b.appendChild(c);a.appendChild(b);return a};this.Re=function(){var a=document.getElementById("listManagerPrinterSelection"),a=c.Sa.qe(a.options[a.selectedIndex].value,c.element);if(1==a[2]){var b=window.document.createElement("a");b.href=window.URL.createObjectURL(new Blob([a[1]],{type:a[0]}));b.download=a[3];document.body.appendChild(b);b.click();document.body.removeChild(b);b.href=null}else(-1!=a[0].indexOf("text/html")?
jQuery("<div class='htmlTypeListView'>"+a[1]+"</div>"):jQuery("<div class='customTypeListView'><pre>"+a[1]+"</pre></div>")).dialog({minWidth:700,maxHeight:700});jQuery(this).dialog("close");jQuery(this).dialog("destroy")};this.Se=function(){var a={hf:!1,minHeight:180,ff:!0,buttons:{Cancel:function(){jQuery(this).dialog("close")}}};a.buttons[TRANSLATIONS.PRINT_LIST]=this.Re;this.dialog=jQuery(this.ld()).dialog(a)}};var fa={center:new google.maps.LatLng(46.059547,11.13222),zoom:7,minZoom:6,mapTypeId:google.maps.MapTypeId.TERRAIN},Q=Array(15);Q[0]=[255,0,0];Q[1]=[0,255,0];Q[2]=[0,0,255];Q[3]=[255,255,0];Q[4]=[255,0,255];Q[5]=[0,255,255];Q[6]=[255,128,0];Q[7]=[255,0,128];Q[8]=[0,128,255];Q[9]=[128,0,255];Q[10]=[255,192,0];Q[11]=[255,0,192];Q[12]=[0,192,255];Q[13]=[192,0,255];Q[14]=[192,255,0];Q[15]=[0,0,0];Q[16]=[192,192,192];Q[17]=[255,255,255];
var sa=new function(a,b,c,d){function e(a){delete a.values}function f(a){return 0==a.length?[]:1==a.length?a[0].values.map(function(a){return[a]}):a[0].$d?h(a[0].values,f(a.slice(1))):g(a)}function g(a){for(var b=0,c=a.length,d=0;d<c;d++){var e=a[d].values.length;e>b&&(b=e)}e=Array(b);for(d=0;d<b;d++){for(var f=Array(c),g=0;g<c;g++){var h=a[g].values;f[g]=null==h[d]?h[h.length-a[g].overflow+(d-h.length)%a[g].overflow]:h[d]}e[d]=f}return e}function h(a,b){for(var c=a.length,d=b.length,e=Array(c*d),
f=0;f<c;f++)for(var g=0;g<d;g++)e[f*d+g]=[a[f]].concat(b[g]);return e}var l=[f(a),f(b),f(c)],m=[a,b,c];for(a=0;a<m.length;a++)m[a].map(e);this.Sd=function(a){for(var b=ta,c={},d=m[b],e=0;e<d.length;e++)c[d[e].name]=l[b][a][e];return c};this.hc=function(a){for(var b={},c=0;c<a.length;c++)for(var d=m[c],e=0;e<d.length;e++)b[d[e].name]=l[c][a[c]][e];return b};this.kc=function(a){return l[a].length};this.Pd=function(){return d.length};this.fc=function(a){return d[a]}}([new va("shape","circle rect triangle triangle_i rhomb house house_i stripe_l stripe_r".split(" "))],
[new va("color",Q,!1,3),new va("letter","A B C D E F G H I J K L M N O P Q R S T U V W X Y Z a b c d e f g h i j k l m n o p q r s t u v w x y z 1 2 3 4 5 6 7 8 9 ~ * + # & ? ! $ @ % ^ : - | ( ) / \\ . < > [ ] aa ab ac ad ae af ag ah ai aj ak al an ao ap aq ar as at au av ax ay az a1 a2 a3 a4 a5 a6 a7 a8 a9 ba bb bc bd be bf bg bh bi bj bk bl bn bo bp bq br bs bt bu bv bx by bz b1 b2 b3 b4 b5 b6 b7 b8 b9 ca cb cc cd ce cf cg ch ci cj ck cl cn co cp cq cr cs ct cu cv cx cy cz c1 c2 c3 c4 c5 c6 c7 c8 c9 da db dc dd de df dg dh di dj dk dl dn do dp dq dr ds dt du dv dx dy dz d1 d2 d3 d4 d5 d6 d7 d8 d9 ea eb ec ed ee ef eg eh ei ej ek el en eo ep eq er es et eu ev ex ey ez e1 e2 e3 e4 e5 e6 e7 e8 e9 fa fb fc fd fe ff fg fh fi fj fk fl fn fo fp fq fr fs ft fu fv fx fy fz f1 f2 f3 f4 f5 f6 f7 f8 f9 ga gb gc gd ge gf gg gh gi gj gk gl gn go gp gq gr gs gt gu gv gx gy gz g1 g2 g3 g4 g5 g6 g7 g8 g9 ha hb hc hd he hf hg hh hi hj hk hl hn ho hp hq hr hs ht hu hv hx hy hz h1 h2 h3 h4 h5 h6 h7 h8 h9 ia ib ic id ie if ig ih ii ij ik il in io ip iq ir is it iu iv ix iy iz i1 i2 i3 i4 i5 i6 i7 i8 i9 ja jb jc jd je jf jg jh ji jj jk jl jn jo jp jq jr js jt ju jv jx jy jz j1 j2 j3 j4 j5 j6 j7 j8 j9 ka kb kc kd ke kf kg kh ki kj kk kl kn ko kp kq kr ks kt ku kv kx ky kz k1 k2 k3 k4 k5 k6 k7 k8 k9 la lb lc ld le lf lg lh li lj lk ll ln lo lp lq lr ls lt lu lv lx ly lz l1 l2 l3 l4 l5 l6 l7 l8 l9 na nb nc nd ne nf ng nh ni nj nk nl nn no np nq nr ns nt nu nv nx ny nz n1 n2 n3 n4 n5 n6 n7 n8 n9 oa ob oc od oe of og oh oi oj ok ol on oo op oq or os ot ou ov ox oy oz o1 o2 o3 o4 o5 o6 o7 o8 o9 pa pb pc pd pe pf pg ph pi pj pk pl pn po pp pq pr ps pt pu pv px py pz p1 p2 p3 p4 p5 p6 p7 p8 p9 qa qb qc qd qe qf qg qh qi qj qk ql qn qo qp qq qr qs qt qu qv qx qy qz q1 q2 q3 q4 q5 q6 q7 q8 q9 ra rb rc rd re rf rg rh ri rj rk rl rn ro rp rq rr rs rt ru rv rx ry rz r1 r2 r3 r4 r5 r6 r7 r8 r9 sa sb sc sd se sf sg sh si sj sk sl sn so sp sq sr ss st su sv sx sy sz s1 s2 s3 s4 s5 s6 s7 s8 s9 ta tb tc td te tf tg th ti tj tk tl tn to tp tq tr ts tt tu tv tx ty tz t1 t2 t3 t4 t5 t6 t7 t8 t9 ua ub uc ud ue uf ug uh ui uj uk ul un uo up uq ur us ut uu uv ux uy uz u1 u2 u3 u4 u5 u6 u7 u8 u9 va vb vc vd ve vf vg vh vi vj vk vl vn vo vp vq vr vs vt vu vv vx vy vz v1 v2 v3 v4 v5 v6 v7 v8 v9 xa xb xc xd xe xf xg xh xi xj xk xl xn xo xp xq xr xs xt xu xv xx xy xz x1 x2 x3 x4 x5 x6 x7 x8 x9 ya yb yc yd ye yf yg yh yi yj yk yl yn yo yp yq yr ys yt yu yv yx yy yz y1 y2 y3 y4 y5 y6 y7 y8 y9 za zb zc zd ze zf zg zh zi zj zk zl zn zo zp zq zr zs zt zu zv zx zy zz z1 z2 z3 z4 z5 z6 z7 z8 z9 1a 1b 1c 1d 1e 1f 1g 1h 1i 1j 1k 1l 1n 1o 1p 1q 1r 1s 1t 1u 1v 1x 1y 1z 11 12 13 14 15 16 17 18 19 2a 2b 2c 2d 2e 2f 2g 2h 2i 2j 2k 2l 2n 2o 2p 2q 2r 2s 2t 2u 2v 2x 2y 2z 21 22 23 24 25 26 27 28 29 3a 3b 3c 3d 3e 3f 3g 3h 3i 3j 3k 3l 3n 3o 3p 3q 3r 3s 3t 3u 3v 3x 3y 3z 31 32 33 34 35 36 37 38 39 4a 4b 4c 4d 4e 4f 4g 4h 4i 4j 4k 4l 4n 4o 4p 4q 4r 4s 4t 4u 4v 4x 4y 4z 41 42 43 44 45 46 47 48 49 5a 5b 5c 5d 5e 5f 5g 5h 5i 5j 5k 5l 5n 5o 5p 5q 5r 5s 5t 5u 5v 5x 5y 5z 51 52 53 54 55 56 57 58 59 6a 6b 6c 6d 6e 6f 6g 6h 6i 6j 6k 6l 6n 6o 6p 6q 6r 6s 6t 6u 6v 6x 6y 6z 61 62 63 64 65 66 67 68 69 7a 7b 7c 7d 7e 7f 7g 7h 7i 7j 7k 7l 7n 7o 7p 7q 7r 7s 7t 7u 7v 7x 7y 7z 71 72 73 74 75 76 77 78 79 8a 8b 8c 8d 8e 8f 8g 8h 8i 8j 8k 8l 8n 8o 8p 8q 8r 8s 8t 8u 8v 8x 8y 8z 81 82 83 84 85 86 87 88 89 9a 9b 9c 9d 9e 9f 9g 9h 9i 9j 9k 9l 9n 9o 9p 9q 9r 9s 9t 9u 9v 9x 9y 9z 91 92 93 94 95 96 97 98 99".split(" "))],
[new va("border_color",Q)],Q);function P(a,b,c,d,e){this.eb=a;this.defaultValue=b;this.Xa=[];void 0!==e&&(this.Xa=e);this.aa=c;this.Te=void 0==d?function(){return!0}:d;this.va=function(a,b){var c=document.createElement("div");c.className="filterComponent";c.id="groupingComponent";var d=document.createElement("h2");d.appendChild(document.createTextNode(TRANSLATIONS.GROUPING));c.appendChild(d);d=document.createElement("input");d.type="radio";d.name="subElementCategory";d.value="-2";void 0==this.defaultValue&&(d.checked=!0);c.appendChild(d);
c.appendChild(document.createTextNode(TRANSLATIONS.NO_GROUPING));var e;e="function"===typeof this.eb?this.eb(a,b):this.eb;for(d=0;d<e.length;d++){var f=e[d],g=document.createElement("input");g.type="radio";g.name="subElementCategory";g.value=f;e[d]==this.defaultValue&&(g.checked=!0);c.appendChild(g);c.appendChild(document.createTextNode(B.ta(f)+" "))}f="function"===typeof this.Xa?this.Xa(a,b):this.Xa;if(0==e.length&&(void 0==f||0==f.length))return null;for(d=0;d<f.length;d++)e=f[d].tag,g=document.createElement("input"),
g.type="radio",g.name="subElementCategory",g.value=e,e==this.defaultValue&&(g.checked=!0),c.appendChild(g),c.appendChild(document.createTextNode(f[d].name+" "));c.appendChild(document.createElement("br"));null!=this.aa&&(c.appendChild(document.createElement("br")),c.appendChild(this.aa.va(a,b)));return c};this.Aa=function(a){var b=jQuery("#groupingComponent input[name=subElementCategory]:checked").val();isNaN(b)?(a.subElementCategory="-3",a.selectedTag=b):a.subElementCategory=b;this.aa&&this.aa.Aa(a)};
this.Da=function(a,b,c){if(null!=this.aa){var d=this.aa.Gb.length,e=this.Te,f=function(a){for(var f=0;f<d;f++){var g=e(b,c,a,f),h=jQuery("#sortingComponent input[name=sortName][value="+f+"]");h.prop("disabled",!g);!g&&h.is(":checked")&&1<d&&(g=0==f?jQuery("#sortingComponent input[name=sortName][value=1]"):jQuery("#sortingComponent input[name=sortName][value=0]"),g.prop("checked",!0),g.trigger("click"))}};f(jQuery(a).find("input[name=subElementCategory]:checked").val());jQuery(a).find("input[name=subElementCategory]").on("change",
function(){this.checked&&f(this.value)})}}};function Na(a){this.Gb=a;this.Ud=function(b,c){var d=Ea(b),e=a[c.sorter.sortType];e.Fb=c.sorter.sortOrder;e.vb(d,b,c);return d.sort(e.hb.bind(e))};this.va=function(){var a=document.createElement("div");a.className="filterComponent";a.id="sortingComponent";var c=document.createElement("h2");c.appendChild(document.createTextNode(TRANSLATIONS.SORTING));a.appendChild(c);for(var c=document.createElement("div"),d=0;d<this.Gb.length;d++){var e=this.Gb[d],f=document.createElement("input");f.type="radio";
f.name="sortName";f.value=d;0==d&&(f.checked=!0);f.addEventListener("click",function(a){jQuery(".sortOrderDiv").toggle(!1);jQuery(a).toggle(!0)}.bind(this,"#sortOrder"+d));a.appendChild(f);a.appendChild(document.createTextNode(e.getName()+" "));var g=document.createElement("div");g.className="sortOrderDiv";g.id="sortOrder"+d;g.style.marginLeft="20px";0<d&&(g.style.display="none");for(var h=e.rb(),l=0;l<h;l++){var m=e.sb(l),f=document.createElement("input");f.type="radio";f.name="sortOrder"+d;f.value=
l;l==e.pb()&&(f.checked=!0);var p=document.createElement("div");p.appendChild(f);p.appendChild(document.createTextNode(m+" "));g.appendChild(p)}c.appendChild(g)}a.appendChild(c);return a};this.Aa=function(a){var b=jQuery("#sortingComponent input[name=sortName]:checked"),b={sortType:b.val(),sortOrder:jQuery("#sortingComponent input[name=sortOrder"+b.val()+"]:checked").val()};a.sorter=b};this.Da=function(){}}function Ea(a){var b=[],c;for(c in a)b.push(c);return b}
function Oa(a,b){for(var c={},d=b.subElementCategory,e=0;e<a.length;e++){var f=a[e];c[f]=B.L(d,f)}return c};function Ba(a){this.data=a;this.rd='<div style="max-height: 300px; max-width: 600px;"><div style="max-height: 300px; max-width: 600px; overflow: auto; line-height: 1.35;"><h2>'+a.name+"</h2><br />"+a.description+"</div></div>";this.qb=function(){return this.rd};this.Ic=function(){return!1};this.rc=function(){};this.qc=function(){};this.getData=function(){return[this.data]}};function Ga(){this.fa=["name","description"];this.xa=new Ma;this.Kd=function(){return this.xa.Rd()};this.qe=function(a,b){var c=b.Na(),d=this.xa.Td(a),e=[];if("undefined"==typeof this.fa){this.fa=[];for(var f=0;f<c.length;f++)for(var g=c[f].W.getData(),h=0;h<g.length;h++)for(var l in g[h])this.fa.push(l)}for(f=0;f<c.length;f++)for(g=c[f].W.getData(),h=0;h<g.length;h++){l={};for(var m=0;m<this.fa.length;m++)l[this.fa[m]]=g[h][this.fa[m]];e.push(l)}return[d.getType(),d.bb(e),d.wb(),d.lb()]}};function J(a){this.extend(J,google.maps.OverlayView);this.j=[];this.A=null;this.N=100;this.Qa=!1;a=a||{};void 0==a.backgroundColor&&(a.backgroundColor=this.Mc);void 0==a.borderColor&&(a.borderColor=this.Nc);void 0==a.borderRadius&&(a.borderRadius=this.Oc);void 0==a.borderWidth&&(a.borderWidth=this.Pc);void 0==a.padding&&(a.padding=this.Sc);void 0==a.arrowPosition&&(a.arrowPosition=this.Jc);void 0==a.disableAutoPan&&(a.disableAutoPan=!1);void 0==a.disableAnimation&&(a.disableAnimation=!1);void 0==
a.minWidth&&(a.minWidth=this.Rc);void 0==a.shadowStyle&&(a.shadowStyle=this.Tc);void 0==a.arrowSize&&(a.arrowSize=this.Kc);void 0==a.arrowStyle&&(a.arrowStyle=this.Lc);void 0==a.closeSrc&&(a.closeSrc=this.Qc);Pa(this);this.setValues(a)}window.InfoBubble=J;k=J.prototype;k.Kc=15;k.Lc=0;k.Tc=1;k.Rc=50;k.Jc=50;k.Sc=10;k.Pc=1;k.Nc="#ccc";k.Oc=10;k.Mc="#fff";k.Qc="https://maps.gstatic.com/intl/en_us/mapfiles/iw_close.gif";
k.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])};
function Pa(a){var b=a.l=document.createElement("DIV");b.style.position="absolute";b.style.zIndex=a.N;(a.ca=document.createElement("DIV")).style.position="relative";var c=a.ea=document.createElement("IMG");c.style.position="absolute";c.style.border=0;c.style.zIndex=a.N+1;c.style.cursor="pointer";c.src=a.get("closeSrc");google.maps.event.addDomListener(c,"click",function(){a.close();google.maps.event.trigger(a,"closeclick")});var d=a.H=document.createElement("DIV");d.style.overflowX="auto";d.style.overflowY=
"auto";d.style.cursor="default";d.style.clear="both";d.style.position="relative";var e=a.V=document.createElement("DIV");d.appendChild(e);e=a.dd=document.createElement("DIV");e.style.position="relative";var f=a.$a=document.createElement("DIV"),g=a.Ea=document.createElement("DIV"),h=Qa(a);f.style.position=g.style.position="absolute";f.style.left=g.style.left="50%";f.style.height=g.style.height="0";f.style.width=g.style.width="0";f.style.marginLeft=R(-h);f.style.borderWidth=R(h);f.style.borderBottomWidth=
0;h=a.f=document.createElement("DIV");h.style.position="absolute";b.style.display=h.style.display="none";b.appendChild(a.ca);b.appendChild(c);b.appendChild(d);e.appendChild(f);e.appendChild(g);b.appendChild(e);b=document.createElement("style");b.setAttribute("type","text/css");a.T="_ibani_"+Math.round(1E4*Math.random());b.textContent="."+a.T+"{-webkit-animation-name:"+a.T+";-webkit-animation-duration:0.5s;-webkit-animation-iteration-count:1;}@-webkit-keyframes "+a.T+" {from {-webkit-transform: scale(0)}50% {-webkit-transform: scale(1.2)}90% {-webkit-transform: scale(0.95)}to {-webkit-transform: scale(1)}}";
document.getElementsByTagName("head")[0].appendChild(b)}k.we=function(a){this.set("backgroundClassName",a)};J.prototype.setBackgroundClassName=J.prototype.we;J.prototype.ed=function(){this.V.className=this.get("backgroundClassName")};J.prototype.backgroundClassName_changed=J.prototype.ed;J.prototype.Ne=function(a){this.set("tabClassName",a)};J.prototype.setTabClassName=J.prototype.Ne;J.prototype.Ve=function(){S(this)};J.prototype.tabClassName_changed=J.prototype.Ve;
J.prototype.ve=function(a){this.set("arrowStyle",a)};J.prototype.setArrowStyle=J.prototype.ve;J.prototype.cd=function(){this.Ob()};J.prototype.arrowStyle_changed=J.prototype.cd;function Qa(a){return parseInt(a.get("arrowSize"),10)||0}J.prototype.ue=function(a){this.set("arrowSize",a)};J.prototype.setArrowSize=J.prototype.ue;J.prototype.Ob=function(){this.Tb()};J.prototype.arrowSize_changed=J.prototype.Ob;J.prototype.te=function(a){this.set("arrowPosition",a)};J.prototype.setArrowPosition=J.prototype.te;
J.prototype.bd=function(){var a=parseInt(this.get("arrowPosition"),10)||0;this.$a.style.left=this.Ea.style.left=a+"%";T(this)};J.prototype.arrowPosition_changed=J.prototype.bd;J.prototype.setZIndex=function(a){this.set("zIndex",a)};J.prototype.setZIndex=J.prototype.setZIndex;J.prototype.getZIndex=function(){return parseInt(this.get("zIndex"),10)||this.N};J.prototype.Jb=function(){var a=this.getZIndex();this.l.style.zIndex=this.N=a;this.ea.style.zIndex=a+1};J.prototype.zIndex_changed=J.prototype.Jb;
J.prototype.Me=function(a){this.set("shadowStyle",a)};J.prototype.setShadowStyle=J.prototype.Me;J.prototype.Oe=function(){var a="",b="",c="";switch(parseInt(this.get("shadowStyle"),10)||0){case 0:a="none";break;case 1:b="40px 15px 10px rgba(33,33,33,0.3)";c="transparent";break;case 2:b="0 0 2px rgba(33,33,33,0.3)",c="rgba(33,33,33,0.35)"}this.f.style.boxShadow=this.f.style.webkitBoxShadow=this.f.style.MozBoxShadow=b;this.f.style.backgroundColor=c;this.Qa&&(this.f.style.display=a,this.draw())};
J.prototype.shadowStyle_changed=J.prototype.Oe;J.prototype.Pe=function(){this.set("hideCloseButton",!1)};J.prototype.showCloseButton=J.prototype.Pe;J.prototype.Yd=function(){this.set("hideCloseButton",!0)};J.prototype.hideCloseButton=J.prototype.Yd;J.prototype.Zd=function(){this.ea.style.display=this.get("hideCloseButton")?"none":""};J.prototype.hideCloseButton_changed=J.prototype.Zd;J.prototype.xe=function(a){a&&this.set("backgroundColor",a)};J.prototype.setBackgroundColor=J.prototype.xe;
J.prototype.fd=function(){var a=this.get("backgroundColor");this.H.style.backgroundColor=a;this.Ea.style.borderColor=a+" transparent transparent";S(this)};J.prototype.backgroundColor_changed=J.prototype.fd;J.prototype.ye=function(a){a&&this.set("borderColor",a)};J.prototype.setBorderColor=J.prototype.ye;
J.prototype.kd=function(){var a=this.get("borderColor"),b=this.H,c=this.$a;b.style.borderColor=a;c.style.borderColor=a+" transparent transparent";b.style.borderStyle=c.style.borderStyle=this.Ea.style.borderStyle="solid";S(this)};J.prototype.borderColor_changed=J.prototype.kd;J.prototype.ze=function(a){this.set("borderRadius",a)};J.prototype.setBorderRadius=J.prototype.ze;function Ra(a){return parseInt(a.get("borderRadius"),10)||0}
J.prototype.Sb=function(){var a=Ra(this),b=U(this);this.H.style.borderRadius=this.H.style.MozBorderRadius=this.H.style.webkitBorderRadius=this.f.style.borderRadius=this.f.style.MozBorderRadius=this.f.style.webkitBorderRadius=R(a);this.ca.style.paddingLeft=this.ca.style.paddingRight=R(a+b);T(this)};J.prototype.borderRadius_changed=J.prototype.Sb;function U(a){return parseInt(a.get("borderWidth"),10)||0}J.prototype.Ae=function(a){this.set("borderWidth",a)};J.prototype.setBorderWidth=J.prototype.Ae;
J.prototype.Tb=function(){var a=U(this);this.H.style.borderWidth=R(a);this.ca.style.top=R(a);var a=U(this),b=Qa(this),c=parseInt(this.get("arrowStyle"),10)||0,d=R(b),e=R(Math.max(0,b-a)),f=this.$a,g=this.Ea;this.dd.style.marginTop=R(-a);f.style.borderTopWidth=d;g.style.borderTopWidth=e;0==c||1==c?(f.style.borderLeftWidth=d,g.style.borderLeftWidth=e):f.style.borderLeftWidth=g.style.borderLeftWidth=0;0==c||2==c?(f.style.borderRightWidth=d,g.style.borderRightWidth=e):f.style.borderRightWidth=g.style.borderRightWidth=
0;2>c?(f.style.marginLeft=R(-b),g.style.marginLeft=R(-(b-a))):f.style.marginLeft=g.style.marginLeft=0;f.style.display=0==a?"none":"";S(this);this.Sb();T(this)};J.prototype.borderWidth_changed=J.prototype.Tb;J.prototype.Le=function(a){this.set("padding",a)};J.prototype.setPadding=J.prototype.Le;J.prototype.Be=function(a){a&&this.ea&&(this.ea.src=a)};J.prototype.setCloseSrc=J.prototype.Be;function V(a){return parseInt(a.get("padding"),10)||0}
J.prototype.ke=function(){var a=V(this);this.H.style.padding=R(a);S(this);T(this)};J.prototype.padding_changed=J.prototype.ke;function R(a){return a?a+"px":a}function Sa(a){var b="mousedown mousemove mouseover mouseout mouseup mousewheel DOMMouseScroll touchstart touchend touchmove dblclick contextmenu click".split(" "),c=a.l;a.nc=[];for(var d=0,e;e=b[d];d++)a.nc.push(google.maps.event.addDomListener(c,e,function(a){a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()}))}
J.prototype.onAdd=function(){this.l||Pa(this);Sa(this);var a=this.getPanes();a&&(a.floatPane.appendChild(this.l),a.floatShadow.appendChild(this.f));google.maps.event.trigger(this,"domready")};J.prototype.onAdd=J.prototype.onAdd;
J.prototype.draw=function(){var a=this.getProjection();if(a){var b=this.get("position");if(b){var c=0;this.A&&(c=this.A.offsetHeight);var d=Ta(this),e=Qa(this),f=parseInt(this.get("arrowPosition"),10)||0,f=f/100,a=a.fromLatLngToDivPixel(b);if(b=this.H.offsetWidth){var g=a.y-(this.l.offsetHeight+e);d&&(g-=d);var h=a.x-b*f;this.l.style.top=R(g);this.l.style.left=R(h);switch(parseInt(this.get("shadowStyle"),10)){case 1:this.f.style.top=R(g+c-1);this.f.style.left=R(h);this.f.style.width=R(b);this.f.style.height=
R(this.H.offsetHeight-e);break;case 2:b*=.8,this.f.style.top=d?R(a.y):R(a.y+e),this.f.style.left=R(a.x-b*f),this.f.style.width=R(b),this.f.style.height=R(2)}}}else this.close()}};J.prototype.draw=J.prototype.draw;J.prototype.onRemove=function(){this.l&&this.l.parentNode&&this.l.parentNode.removeChild(this.l);this.f&&this.f.parentNode&&this.f.parentNode.removeChild(this.f);for(var a=0,b;b=this.nc[a];a++)google.maps.event.removeListener(b)};J.prototype.onRemove=J.prototype.onRemove;J.prototype.be=function(){return this.Qa};
J.prototype.isOpen=J.prototype.be;J.prototype.close=function(){this.l&&(this.l.style.display="none",this.l.className=this.l.className.replace(this.T,""));this.f&&(this.f.style.display="none",this.f.className=this.f.className.replace(this.T,""));this.Qa=!1};J.prototype.close=J.prototype.close;J.prototype.open=function(a,b){var c=this;window.setTimeout(function(){Ua(c,a,b)},0)};
function Ua(a,b,c){Va(a);b&&a.setMap(b);c&&(a.set("anchor",c),a.bindTo("anchorPoint",c),a.bindTo("position",c));a.l.style.display=a.f.style.display="";a.get("disableAnimation")||(a.l.className+=" "+a.T,a.f.className+=" "+a.T);T(a);a.Qa=!0;a.get("disableAutoPan")||window.setTimeout(function(){a.zb()},200)}J.prototype.open=J.prototype.open;J.prototype.setPosition=function(a){a&&this.set("position",a)};J.prototype.setPosition=J.prototype.setPosition;J.prototype.getPosition=function(){return this.get("position")};
J.prototype.getPosition=J.prototype.getPosition;J.prototype.Ab=function(){this.draw()};J.prototype.position_changed=J.prototype.Ab;J.prototype.zb=function(){var a=this.getProjection();if(a&&this.l){var b=Ta(this),c=this.l.offsetHeight+b,b=this.get("map"),d=b.getDiv().offsetHeight,e=this.getPosition(),f=a.fromLatLngToContainerPixel(b.getCenter()),e=a.fromLatLngToContainerPixel(e),c=f.y-c,d=d-f.y,f=0;0>c&&(f=(-1*c+d)/2);e.y-=f;e=a.fromContainerPixelToLatLng(e);b.getCenter()!=e&&b.panTo(e)}};
J.prototype.panToView=J.prototype.zb;J.prototype.Pa=function(a){a=a.replace(/^\s*([\S\s]*)\b\s*$/,"$1");var b=document.createElement("DIV");b.innerHTML=a;if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(a=document.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);return a};J.prototype.Bb=function(a){if(a)for(var b;b=a.firstChild;)a.removeChild(b)};J.prototype.setContent=function(a){this.set("content",a)};J.prototype.setContent=J.prototype.setContent;
J.prototype.getContent=function(){return this.get("content")};J.prototype.getContent=J.prototype.getContent;function Va(a){if(a.V){a.Bb(a.V);var b=a.getContent();if(b){"string"==typeof b&&(b=a.Pa(b));a.V.appendChild(b);for(var b=a.V.getElementsByTagName("IMG"),c=0,d;d=b[c];c++)google.maps.event.addDomListener(d,"load",function(){var b=!a.get("disableAutoPan");T(a);!b||0!=a.j.length&&0!=a.A.index||a.zb()})}T(a)}}
function S(a){if(a.j&&a.j.length){for(var b=0,c;c=a.j[b];b++)Wa(a,c.tab);a.A.style.zIndex=a.N;b=U(a);c=V(a)/2;a.A.style.borderBottomWidth=0;a.A.style.paddingBottom=R(c+b)}}
function Wa(a,b){var c=a.get("backgroundColor"),d=a.get("borderColor"),e=Ra(a),f=U(a),g=V(a),h=R(-Math.max(g,e)),e=R(e),l=a.N;b.index&&(l-=b.index);var c={cssFloat:"left",position:"relative",cursor:"pointer",backgroundColor:c,border:R(f)+" solid "+d,padding:R(g/2)+" "+R(g),marginRight:h,whiteSpace:"nowrap",borderRadiusTopLeft:e,MozBorderRadiusTopleft:e,webkitBorderTopLeftRadius:e,borderRadiusTopRight:e,MozBorderRadiusTopright:e,webkitBorderTopRightRadius:e,zIndex:l,display:"inline"},m;for(m in c)b.style[m]=
c[m];m=a.get("tabClassName");void 0!=m&&(b.className+=" "+m)}function Xa(a,b){b.ce=google.maps.event.addDomListener(b,"click",function(){Ya(a,this)})}J.prototype.Ec=function(a){(a=this.j[a-1])&&Ya(this,a.tab)};J.prototype.setTabActive=J.prototype.Ec;
function Ya(a,b){if(b){var c=V(a)/2,d=U(a);if(a.A){var e=a.A;e.style.zIndex=a.N-e.index;e.style.paddingBottom=R(c);e.style.borderBottomWidth=R(d)}b.style.zIndex=a.N;b.style.borderBottomWidth=0;b.style.marginBottomWidth="-10px";b.style.paddingBottom=R(c+d);a.setContent(a.j[b.index].content);Va(a);a.A=b;T(a)}else a.setContent(""),Va(a)}J.prototype.He=function(a){this.set("maxWidth",a)};J.prototype.setMaxWidth=J.prototype.He;J.prototype.ee=function(){T(this)};J.prototype.maxWidth_changed=J.prototype.ee;
J.prototype.Ge=function(a){this.set("maxHeight",a)};J.prototype.setMaxHeight=J.prototype.Ge;J.prototype.de=function(){T(this)};J.prototype.maxHeight_changed=J.prototype.de;J.prototype.Je=function(a){this.set("minWidth",a)};J.prototype.setMinWidth=J.prototype.Je;J.prototype.he=function(){T(this)};J.prototype.minWidth_changed=J.prototype.he;J.prototype.Ie=function(a){this.set("minHeight",a)};J.prototype.setMinHeight=J.prototype.Ie;J.prototype.ge=function(){T(this)};J.prototype.minHeight_changed=J.prototype.ge;
J.prototype.Mb=function(a,b){var c=document.createElement("DIV");c.innerHTML=a;Wa(this,c);Xa(this,c);this.ca.appendChild(c);this.j.push({label:a,content:b,tab:c});c.index=this.j.length-1;c.style.zIndex=this.N-c.index;this.A||Ya(this,c);c.className=c.className+" "+this.T;T(this)};J.prototype.addTab=J.prototype.Mb;
J.prototype.af=function(a,b,c){!this.j.length||0>a||a>=this.j.length||(a=this.j[a],void 0!=b&&(a.tab.innerHTML=a.label=b),void 0!=c&&(a.content=c),this.A==a.tab&&(this.setContent(a.content),Va(this)),T(this))};J.prototype.updateTab=J.prototype.af;
J.prototype.zc=function(a){if(!(!this.j.length||0>a||a>=this.j.length)){var b=this.j[a];b.tab.parentNode.removeChild(b.tab);google.maps.event.removeListener(b.tab.ce);this.j.splice(a,1);delete b;for(var c=0,d;d=this.j[c];c++)d.tab.index=c;b.tab==this.A&&(this.A=this.j[a]?this.j[a].tab:this.j[a-1]?this.j[a-1].tab:void 0,Ya(this,this.A));T(this)}};J.prototype.removeTab=J.prototype.zc;
function Za(a,b,c){var d=document.createElement("DIV");d.style.display="inline";d.style.position="absolute";d.style.visibility="hidden";"string"==typeof a?d.innerHTML=a:d.appendChild(a.cloneNode(!0));document.body.appendChild(d);a=new google.maps.Size(d.offsetWidth,d.offsetHeight);b&&a.width>b&&(d.style.width=R(b),a=new google.maps.Size(d.offsetWidth,d.offsetHeight));c&&a.height>c&&(d.style.height=R(c),a=new google.maps.Size(d.offsetWidth,d.offsetHeight));document.body.removeChild(d);delete d;return a}
function T(a){var b=a.get("map");if(b){var c=V(a);U(a);Ra(a);var d=Qa(a),e=b.getDiv(),f=2*d,b=e.offsetWidth-f,e=e.offsetHeight-f-Ta(a),f=0,g=a.get("minWidth")||0,h=a.get("minHeight")||0,l=a.get("maxWidth")||0,m=a.get("maxHeight")||0,l=Math.min(b,l),m=Math.min(e,m),p=0;if(a.j.length)for(var x=0,t;t=a.j[x];x++){var u=Za(t.tab,l,m);t=Za(t.content,l,m);g<u.width&&(g=u.width);p+=u.width;h<u.height&&(h=u.height);u.height>f&&(f=u.height);g<t.width&&(g=t.width);h<t.height&&(h=t.height)}else x=a.get("content"),
"string"==typeof x&&(x=a.Pa(x)),x&&(t=Za(x,l,m),g<t.width&&(g=t.width),h<t.height&&(h=t.height));l&&(g=Math.min(g,l));m&&(h=Math.min(h,m));g=Math.max(g,p);g==p&&(g+=2*c);g=Math.max(g,2*d);g>b&&(g=b);h>e&&(h=e-f);a.ca&&(a.Fc=f,a.ca.style.width=R(p));a.H.style.width=R(g);a.H.style.height=R(h)}Ra(a);c=U(a);b=2;a.j.length&&a.Fc&&(b+=a.Fc);d=2+c;(e=a.H)&&e.clientHeight<e.scrollHeight&&(d+=15);a.ea.style.right=R(d);a.ea.style.top=R(b+c);a.draw()}
function Ta(a){return a.get("anchor")&&(a=a.get("anchorPoint"))?-1*a.y:0}J.prototype.Xc=function(){this.draw()};J.prototype.anchorPoint_changed=J.prototype.Xc;function I(a){var b=a||{};this.ga=this.X=!1;void 0==a.visible&&(a.visible=!0);void 0==a.shadow&&(a.shadow="7px -3px 5px rgba(88,88,88,0.7)");void 0==a.anchor&&(a.anchor=W.BOTTOM);this.setValues(b)}I.prototype=new google.maps.OverlayView;window.RichMarker=I;I.prototype.getVisible=function(){return this.get("visible")};I.prototype.getVisible=I.prototype.getVisible;I.prototype.setVisible=function(a){this.set("visible",a)};I.prototype.setVisible=I.prototype.setVisible;
I.prototype.bf=function(){this.X&&(this.a.style.display=this.getVisible()?"":"none",this.draw())};I.prototype.visible_changed=I.prototype.bf;I.prototype.Ee=function(a){this.set("flat",!!a)};I.prototype.setFlat=I.prototype.Ee;I.prototype.ic=function(){return this.get("flat")};I.prototype.getFlat=I.prototype.ic;I.prototype.Wd=function(){return this.get("width")};I.prototype.getWidth=I.prototype.Wd;I.prototype.Id=function(){return this.get("height")};I.prototype.getHeight=I.prototype.Id;
I.prototype.Dc=function(a){this.set("shadow",a);this.nb()};I.prototype.setShadow=I.prototype.Dc;I.prototype.lc=function(){return this.get("shadow")};I.prototype.getShadow=I.prototype.lc;I.prototype.nb=function(){this.X&&(this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.ic()?"":this.lc())};I.prototype.flat_changed=I.prototype.nb;I.prototype.setZIndex=function(a){this.set("zIndex",a)};I.prototype.setZIndex=I.prototype.setZIndex;I.prototype.getZIndex=function(){return this.get("zIndex")};
I.prototype.getZIndex=I.prototype.getZIndex;I.prototype.Jb=function(){this.getZIndex()&&this.X&&(this.a.style.zIndex=this.getZIndex())};I.prototype.zIndex_changed=I.prototype.Jb;I.prototype.getDraggable=function(){return this.get("draggable")};I.prototype.getDraggable=I.prototype.getDraggable;I.prototype.setDraggable=function(a){this.set("draggable",!!a)};I.prototype.setDraggable=I.prototype.setDraggable;I.prototype.ac=function(){this.X&&(this.getDraggable()?$a(this,this.a):ab(this))};
I.prototype.draggable_changed=I.prototype.ac;I.prototype.getPosition=function(){return this.get("position")};I.prototype.getPosition=I.prototype.getPosition;I.prototype.setPosition=function(a){this.set("position",a)};I.prototype.setPosition=I.prototype.setPosition;I.prototype.Ab=function(){this.draw()};I.prototype.position_changed=I.prototype.Ab;I.prototype.ec=function(){return this.get("anchor")};I.prototype.getAnchor=I.prototype.ec;I.prototype.Ac=function(a){this.set("anchor",a)};
I.prototype.setAnchor=I.prototype.Ac;I.prototype.Yc=function(){this.draw()};I.prototype.anchor_changed=I.prototype.Yc;I.prototype.Pa=function(a){var b=document.createElement("DIV");b.innerHTML=a;if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(a=document.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);return a};I.prototype.Bb=function(a){if(a)for(var b;b=a.firstChild;)a.removeChild(b)};I.prototype.setContent=function(a){this.set("content",a)};
I.prototype.setContent=I.prototype.setContent;I.prototype.getContent=function(){return this.get("content")};I.prototype.getContent=I.prototype.getContent;
I.prototype.Vb=function(){if(this.w){this.Bb(this.w);var a=this.getContent();if(a){"string"==typeof a&&(a=a.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),a=this.Pa(a));this.w.appendChild(a);for(var b=this,a=this.w.getElementsByTagName("IMG"),c=0,d;d=a[c];c++)google.maps.event.addDomListener(d,"mousedown",function(a){b.getDraggable()&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1)}),google.maps.event.addDomListener(d,"load",function(){b.draw()});google.maps.event.trigger(this,"domready")}this.X&&this.draw()}};
I.prototype.content_changed=I.prototype.Vb;function bb(a,b){if(a.X){var c="";if(-1!==navigator.userAgent.indexOf("Gecko/"))"dragging"==b&&(c="-moz-grabbing"),"dragready"==b&&(c="-moz-grab");else if("dragging"==b||"dragready"==b)c="move";"draggable"==b&&(c="pointer");a.a.style.cursor!=c&&(a.a.style.cursor=c)}}
function cb(a,b){if(a.getDraggable()&&!a.ga){a.ga=!0;var c=a.getMap();a.pc=c.get("draggable");c.set("draggable",!1);a.xb=b.clientX;a.yb=b.clientY;bb(a,"dragready");a.a.style.MozUserSelect="none";a.a.style.KhtmlUserSelect="none";a.a.style.WebkitUserSelect="none";a.a.unselectable="on";a.a.onselectstart=function(){return!1};db(a);google.maps.event.trigger(a,"dragstart")}}
function eb(a){a.getDraggable()&&a.ga&&(a.ga=!1,a.getMap().set("draggable",a.pc),a.xb=a.yb=a.pc=null,a.a.style.MozUserSelect="",a.a.style.KhtmlUserSelect="",a.a.style.WebkitUserSelect="",a.a.unselectable="off",a.a.onselectstart=function(){},fb(a),bb(a,"draggable"),google.maps.event.trigger(a,"dragend"),a.draw())}
function gb(a,b){if(a.getDraggable()&&a.ga){var c=a.xb-b.clientX,d=a.yb-b.clientY;a.xb=b.clientX;a.yb=b.clientY;c=parseInt(a.a.style.left,10)-c;d=parseInt(a.a.style.top,10)-d;a.a.style.left=c+"px";a.a.style.top=d+"px";var e=hb(a),c=new google.maps.Point(c-e.width,d-e.height);a.setPosition(a.getProjection().fromDivPixelToLatLng(c));bb(a,"dragging");google.maps.event.trigger(a,"drag")}else eb(a)}function ab(a){a.mb&&(google.maps.event.removeListener(a.mb),delete a.mb);bb(a,"")}
function $a(a,b){b&&(a.mb=google.maps.event.addDomListener(b,"mousedown",function(b){cb(a,b)}),bb(a,"draggable"))}function db(a){a.a.setCapture?(a.a.setCapture(!0),a.Ja=[google.maps.event.addDomListener(a.a,"mousemove",function(b){gb(a,b)},!0),google.maps.event.addDomListener(a.a,"mouseup",function(){eb(a);a.a.releaseCapture()},!0)]):a.Ja=[google.maps.event.addDomListener(window,"mousemove",function(b){gb(a,b)},!0),google.maps.event.addDomListener(window,"mouseup",function(){eb(a)},!0)]}
function fb(a){if(a.Ja){for(var b=0,c;c=a.Ja[b];b++)google.maps.event.removeListener(c);a.Ja.length=0}}
function hb(a){var b=a.ec();if("object"==typeof b)return b;var c=new google.maps.Size(0,0);if(!a.w)return c;var d=a.w.offsetWidth;a=a.w.offsetHeight;switch(b){case W.TOP:c.width=-d/2;break;case W.TOP_RIGHT:c.width=-d;break;case W.LEFT:c.height=-a/2;break;case W.MIDDLE:c.width=-d/2;c.height=-a/2;break;case W.RIGHT:c.width=-d;c.height=-a/2;break;case W.BOTTOM_LEFT:c.height=-a;break;case W.BOTTOM:c.width=-d/2;c.height=-a;break;case W.BOTTOM_RIGHT:c.width=-d,c.height=-a}return c}
I.prototype.onAdd=function(){this.a||(this.a=document.createElement("DIV"),this.a.style.position="absolute");this.getZIndex()&&(this.a.style.zIndex=this.getZIndex());this.a.style.display=this.getVisible()?"":"none";if(!this.w){this.w=document.createElement("DIV");this.a.appendChild(this.w);google.maps.event.addDomListener(this.w,"click",function(a){a.stopPropagation&&a.stopPropagation()});var a=this;google.maps.event.addDomListener(this.w,"click",function(){google.maps.event.trigger(a,"click")});
google.maps.event.addDomListener(this.w,"mouseover",function(){google.maps.event.trigger(a,"mouseover")});google.maps.event.addDomListener(this.w,"mouseout",function(){google.maps.event.trigger(a,"mouseout")})}this.X=!0;this.Vb();this.nb();this.ac();var b=this.getPanes();b&&b.overlayMouseTarget.appendChild(this.a);google.maps.event.trigger(this,"ready")};I.prototype.onAdd=I.prototype.onAdd;
I.prototype.draw=function(){if(this.X&&!this.ga){var a=this.getProjection();if(a){var b=this.get("position"),a=a.fromLatLngToDivPixel(b),b=hb(this);this.a.style.top=a.y+b.height+"px";this.a.style.left=a.x+b.width+"px";a=this.w.offsetHeight;b=this.w.offsetWidth;b!=this.get("width")&&this.set("width",b);a!=this.get("height")&&this.set("height",a)}}};I.prototype.draw=I.prototype.draw;I.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a);ab(this)};
I.prototype.onRemove=I.prototype.onRemove;var qa=5,W={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:qa,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=W;jQuery(function(){var a=window.innerHeight-document.getElementById("content").offsetTop/2;jQuery("#IM_googleMap").css("height",a+"px");jQuery("#IM_legend").css("height",a-311+"px");jQuery(".conceptTooltip").each(function(){var a=jQuery(this).data("id");jQuery(this).qtip({content:{text:ib(a)},position:{my:"bottom right",at:"top left"}})})});
jQuery(document).on("im_map_initialized",function(){"xxx"!=ajax_object.db&&B.pa("db",ajax_object.db);B.Uc();void 0==PATH.tk?B.ka(5,"E17",{subElementCategory:-1}):B.oc(1*PATH.tk);v.Ha=function(a){try{addBiblioQTips(a),a.find(".quote").qtip({show:"click",hide:"unfocus"}),jQuery("#commentTitle").append("&nbsp;"),jQuery("#commentTitle").append(a.find(".quote"))}catch(c){console.log(c)}};v.Ga=function(a){a.find(".bibl").qtip("destroy",!0);jQuery("#commentTitle").find(".quote").qtip("destroy",!0)};v.Eb=
function(){return"xxx"==ajax_object.db};B.pa("outside",!1);w.Ca("ak",new wa(!1,TRANSLATIONS.ALPENKONVENTTION_INFORMANTEN,function(a){w.Ka(!1);B.pa("outside",a);q.vc(function(){w.Ka(!0)})}));B.pa("community",!0);w.Ca("comm",new wa(!0,TRANSLATIONS.AUF_GEMEINDE,function(a){w.Ka(!1);B.pa("community",a);q.vc(function(){w.Ka(!0)})}));if("1"==ajax_object.va_staff){var a=new wa(!1,TRANSLATIONS.DRUCKFASSUNG,function(a){a?(n.setMapTypeId(google.maps.MapTypeId.ROADMAP),n.setOptions({styles:jb})):(n.setMapTypeId(google.maps.MapTypeId.TERRAIN),
n.setOptions({styles:{}}))});jQuery(document).on("im_quantify_mode",function(b,c){a.Bc(!c)});w.Ca("print",a)}});jQuery(document).on("im_legend_before_rebuild",function(){jQuery("#IM_legend tr td:nth-child(3)").qtip("destroy",!0)});jQuery(document).on("im_legend_element_created",function(a,b){if(b.m==Y&&-1!=b.key){var c=ib(b.key.substring(1));c&&jQuery(b.C).find("td:nth-child(3)").qtip({content:{text:c},position:{my:"bottom left",at:"top left"}})}});
function ib(a){a=Concepts[a];var b=a[0],c=a[1],d=a[4];if(b&&b!=c||d){var e=document.createElement("div");d&&(d=document.createElement("img"),d.src=a[4],d.style.display="block",d.style.margin="auto",d.style["max-width"]="100%",e.appendChild(d),e.appendChild(document.createElement("br")));b&&b!=c&&(b=document.createElement("span"),b.style["text-align"]="center",b.appendChild(document.createTextNode(a[1])),e.appendChild(b));return jQuery(e)}return null}
var Y=1,kb=new function(){this.vb=function(a,b,c){this.I=Oa(a,c)};this.hb=function(a,b){return-1==a?-1:-1==b?1:0==this.Fb?this.I[a].localeCompare(this.I[b]):this.I[b].localeCompare(this.I[a])};this.getName=function(){return TRANSLATIONS.ALPHABETICAL};this.rb=function(){return 2};this.sb=function(a){return 0==a?TRANSLATIONS.ASC:TRANSLATIONS.DESC};this.pb=function(){return 0}},lb=new function(){this.vb=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f]=b[f][1].length}this.Xb=d;this.I=
Oa(a,c)};this.hb=function(a,b){var c=this.Xb[a],d=this.Xb[b];return c==d?-1==a?-1:-1==b?1:this.I[a].localeCompare(this.I[b]):0==this.Fb?c-d:d-c};this.getName=function(){return TRANSLATIONS.NUM_RECORDS};this.rb=function(){return 2};this.sb=function(a){return 0==a?TRANSLATIONS.ASC:TRANSLATIONS.DESC};this.pb=function(){return 1}},mb=new Ga;
mb.xa.Za(new function(){this.getName=function(){return"JSON-Format"};this.getType=function(){return"application/json;charset=utf8"};this.bb=function(a){return JSON.stringify(a)};this.wb=function(){return!0};this.lb=function(){return"list.json"}});
mb.xa.Za(new function(){this.getName=function(){return"Tabelle anzeigen"};this.getType=function(){return"text/html;charset=utf8"};this.bb=function(a){var b="<table>";if(0<a.length){var c=[],d;for(d in a[0])c.push(d);d=a.length;for(var e=c.length,b=b+"<thead><tr>",f=0;f<e;f++)b+="<th>"+c[f]+"</th>";b+="</tr></thead><tbody>";for(f=0;f<d;f++){for(var b=b+"<tr>",g=0;g<e;g++)b+="<td>"+a[f][c[g]]+"</td>";b+="</tr>"}}return b+"</tbody></table>"};this.wb=function(){return!1};this.lb=function(){return null}});
mb.xa.Za(new function(){this.getName=function(){return"CSV-Format (Standard)"};this.getType=function(){return"text/csv;charset=utf8"};this.bb=function(a){var b="";if(0<a.length){var c=[],d;for(d in a[0])c.push(d);d=a.length;for(var e=c.length,f=0;f<e;f++)b+=0<f?"\t":"",b+=""+c[f]+"";b+="\n";for(f=0;f<d;f++){for(var g=0;g<e;g++)b+=0<g?"\t":"",b+=""+a[f][c[g]]+"";b+=g!=d-1?"\n":""}}return b};this.wb=function(){return!0};this.lb=function(){return"list.csv"}});
var Aa=new function(){this.td=function(){var a=document.createElement("input");a.type="text";return a};this.valueType=function(){return 0}},nb={};nb[google.maps.drawing.OverlayType.MARKER]=[new za("Erhebung",!0),new za("Nummer",!0),new za("Ortsname",!1),new za("Bemerkungen",!1)];B.ma(new N(0,"I",Ue.INFORMANTEN,"","informantSelect",void 0,void 0,Ue.KOMMENTAR_INFORMANT_SCHREIBEN,"Informanten-Daten exportieren",mb,void 0,new function(a,b){this.bc=a;this.md=b}(nb,!0,!0,!0)));
B.ma(new N(2,"P",Ue.PHON_TYP,Ue.NICHT_TYPISIERT,"phonTypeSelect",[new P([Y],Y,new Na([kb,lb]))],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_PTYP_SCHREIBEN));B.ma(new N(3,"L",Ue.MORPH_TYP,Ue.NICHT_TYPISIERT,"morphTypeSelect",[new P([2,Y],Y,new Na([kb,lb]))],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_MTYP_SCHREIBEN));B.ma(new N(4,"B",Ue.BASISTYP,Ue.NICHT_TYPISIERT,"baseTypeSelect",[new P([2,3,Y],Y,new Na([kb,lb]))],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_BASIS_SCHREIBEN));
B.ma(new N(Y,"C",Ue.KONZEPT,Ue.KEIN_KONZEPT,"conceptSelect",[new ob,new P([2,3,4],3,new Na([kb,new pb,lb]),function(a,b,c,d){return 1!=d||3==c})],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_KONZEPT_SCHREIBEN,void 0,void 0,function(a){a=a.substring(1);return""==Concepts[a][0]?Concepts[a][1]:Concepts[a][0]}));
B.ma(new N(5,"E",Ue.AUSSERSPR,"","extraLingSelect",[new function(a){this.Hb=a;this.va=function(a,c){var b;b="function"===typeof this.Hb?this.Hb(a,c):this.Hb;if(null==b||0==b.length)return null;var e=document.createElement("div");e.className="filterComponent";e.id="tagComponent";for(var f in b){var g=b[f],h=B.L(-3,"#"+f);"#"==h[0]&&(h=h.substring(1));var l=document.createElement("h2");l.appendChild(document.createTextNode(h?h:f));e.appendChild(l);l=document.createElement("span");l.style.color="LightSlateGray";
l.style["border-bottom"]="1px solid";h=document.createElement("input");h.type="checkbox";h.name="ignore";h.checked="checked";h.style.opacity=".50";h.addEventListener("change",function(){jQuery("#tagComponent input[name="+f+"]").prop("checked",jQuery(this).prop("checked"))});l.appendChild(h);l.appendChild(document.createTextNode(TRANSLATIONS.SELECT_ALL));e.appendChild(l);e.appendChild(document.createElement("br"));for(var m={},l=0;l<g.length;l++)h=B.L(-3,"#"+g[l]),m[g[l]]=h?h:g[l];g.sort(function(a,
b){return m[a].localeCompare(m[b])});for(l=0;l<g.length;l++)h=document.createElement("input"),h.type="checkbox",h.name=f,h.value=g[l],h.checked="checked",h.style["margin-left"]="10px",e.appendChild(h),e.appendChild(document.createTextNode(m[g[l]])),e.appendChild(document.createElement("br"))}return e};this.Aa=function(a){a.tags={};jQuery("#tagComponent input").each(function(){var b=jQuery(this),d=b.prop("name");void 0===a.tags[d]&&(a.tags[d]=["???"]);b.is(":checked")&&a.tags[d].push(b.prop("value"))})};
this.Da=function(){}}(function(a,b){return ELing[b.substring(1)][1]}),new P([],void 0,void 0,void 0,function(a,b){var c=[],d=ELing[b.substring(1)][1];if(d)for(var e in d)d=Ue[e],c.push({tag:e,name:d?d:e});return c})],void 0,Ue.KOMMENTAR_AUSSERSPR_SCHREIBEN,void 0,void 0,function(a){return ELing[a.substring(1)][0]}));for(var Z=0;Z<TagValues.length;Z++)B.Lb("#"+TagValues[Z],Ue[TagValues[Z]]?Ue[TagValues[Z]]:TagValues[Z]);function Fa(a){this.Z=a.record;this.ra=0==a.concepts.length?[""]:a.concepts;this.ba=Array(this.ra.length);for(var b=0;b<this.ra.length;b++)this.ba[b]=a.source;this.We=a.typeTable;this.qd=a.community;this.qb=function(){var a="<div>",b=this.Z.indexOf("###");0==this.Z.indexOf("TYP")?a+="<table style='width : 100%'><tr><td>"+Ue.KEIN_BELEG+"</td>":(a+="<table style='width : 100%'><tr><td><h1 class='singleRecord'>"+(-1==b?this.Z:this.Z.substring(0,b)+"<font color='red'>*</font>")+"</h1>",a+="<span>("+Ue.EINZELBELEG+
")</span></td>");for(var a=a+("<td><h2 class='community singleRecord'>"+this.qd+"</h2></td></tr></table>"),a=a+("<br /><br />"+this.We+"<br /><br /><table class='easy-table easy-table-default'><tr><th>"+Ue.QUELLE+"</th><th>"+Ue.KONZEPT+"</th></tr>"),e=0;e<this.ba.length;e++){var f=Concepts[this.ra[e].substring(1)],g;void 0!==f?(g=f[0],f=f[1]):(g="",f=Ue.KEIN_KONZEPT);a=""==g?a+("<tr><td class='atlasSource'>"+this.ba[e]+"</td><td>"+f+"</td></tr>"):a+("<tr><td class='atlasSource'>"+this.ba[e]+"</td><td><div class='currentRecordWindowConcept' data-concept-descr='"+
f+"'>"+g+"</div></td></tr>")}a+="</table>";-1!=b&&(a+="<br /><font color='red'>* "+Ue.BELEG_TEIL+" <b>"+this.Z.substring(b+3)+"</b></font>");return a+"</div>"};this.Ic=function(a,b){for(var c=0;c<a.O.length;c++){var d=a.O[c];if(d instanceof Fa&&b==a.v[c]&&d.Z==this.Z){for(c=0;c<this.ba.length;c++)d.ba.push(this.ba[c]),d.ra.push(this.ra[c]);return!0}}return!1};this.rc=function(a){google.maps.event.addListener(a,"domready",function(){jQuery(this.V).find(".currentRecordWindowConcept").qtip({content:{attr:"data-concept-descr"},
position:{my:"bottom left",at:"top left"}});jQuery(this.V).find(".infoWindowTypeSelect").each(function(){jQuery(this).change(function(){jQuery(this).parent().parent().children().eq(1).html(jQuery(this).find("option:selected").data("tname"))})})})};this.qc=function(a){jQuery(a.V).find(".currentRecordWindowConcept").qtip("destroy")};this.getData=function(){return[]}};function ob(){this.Aa=function(a,b){var c=[],d=jQuery(b).children("div").jstree("get_selected");jQuery.each(d,function(){c.push(jQuery("#"+this).data("concept"))});a.conceptIds=c;jQuery(b).children("div").jstree("destroy")};this.va=function(a,b){var c=document.createElement("div");c.style["max-height"]="250pt";c.style["overflow-y"]="auto";c.style["margin-bottom"]="2em";var d=document.createElement("h2");d.appendChild(document.createTextNode(Ue.UNTERKONZEPTE_LISTE));c.appendChild(d);d=document.createElement("div");
d.dataset.conceptId=b.substring(1);c.appendChild(d);return c};this.Da=function(a){a=jQuery(a).children("div");var b=qb(a.data("conceptId"));a.css("height",24*b.count+"px");a.jstree({core:{data:b.json,themes:{icons:!1}},plugins:["checkbox"],checkbox:{three_state:!1,visible:!0}})}}
function qb(a){for(var b=Concepts[a],c=0,d=b[3].length,e=[d],f=0;f<d;f++){var g=qb(b[3][f]);e[f]=g.json;c+=g.count}f=b[0];g=b[1];b=b[2];a={text:(""==f||f==g?g:f+" ("+g+")")+" ("+b+" "+("1"==b?Ue.BELEG:Ue.BELEGE)+")",state:{selected:!0},li_attr:{"data-concept":a}};0<d&&(a.children=e);return{json:a,count:c+1}};function pb(){this.vb=function(a,b,c){this.I=Oa(a,c);this.ja={};var d;switch(1*this.Fb){case 0:d={g:0,r:1,s:2};break;case 1:d={g:0,s:1,r:2};break;case 2:d={r:0,g:1,s:2};break;case 3:d={r:0,s:1,g:2};break;case 4:d={s:0,g:1,r:2};break;case 5:d={s:0,r:1,g:2}}for(b=0;b<a.length;b++){c=this.I[a[b]];var e=c.indexOf("(");-1==e&&(this.ja[a[b]]=3);c=d[c.substring(e+1,e+2)];this.ja[a[b]]=void 0==c?3:c}};this.hb=function(a,b){return-1==a?-1:-1==b?1:this.ja[a]==this.ja[b]?this.I[a].localeCompare(this.I[b]):this.ja[a]-
this.ja[b]};this.getName=function(){return Ue.NACH_SPRACHFAMILIEN};this.rb=function(){return 6};this.sb=function(a){switch(a){case 0:return"ger,rom,sla";case 1:return"ger,sla,rom";case 2:return"rom,ger,sla";case 3:return"rom,sla,ger";case 4:return"sla,ger,rom";default:return"sla,rom,ger"}};this.pb=function(){return 0}};var jb=[{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}];